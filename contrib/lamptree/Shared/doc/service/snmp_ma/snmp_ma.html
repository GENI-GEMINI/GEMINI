<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>perfSONAR-PS SNMP MA - Complete Documentation</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0" /></head><body><div class="article" lang="en" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="id2478882"></a>perfSONAR-PS SNMP MA - Complete Documentation</h1></div><div><div class="author"><h3 class="author"><span class="firstname">J.</span> <span class="surname">Zurawski</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a href="mailto:zurawski@internet2.edu">zurawski@internet2.edu</a>&gt;</code></p></div></div></div></div><div><p class="copyright">Copyright © 2007, 2008 Internet2</p></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#changes">1. Document Changes</a></span></dt><dt><span class="section"><a href="#introduction">2. Introduction</a></span></dt><dt><span class="section"><a href="#installation">3. Installation Procedures</a></span></dt><dd><dl><dt><span class="section"><a href="#prerequisites">3.1. Software Prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="#perl_installation">3.1.1. Required Perl Modules</a></span></dt><dt><span class="section"><a href="#rrdtool_installation">3.1.2. RRDtool</a></span></dt><dt><span class="section"><a href="#auto_installation">3.1.3. Automatic Installation</a></span></dt><dt><span class="section"><a href="#manual_installation">3.1.4. Manual Installation</a></span></dt><dt><span class="section"><a href="#installation_issues">3.1.5. Known Installation Problems</a></span></dt><dd><dl><dt><span class="section"><a href="#perl_installation_issues">3.1.5.1. Perl Modules</a></span></dt><dt><span class="section"><a href="#rrdtool_installation_issues">3.1.5.2. RRDtool</a></span></dt><dd><dl><dt><span class="section"><a href="#rrdtool_library_installation_issues">3.1.5.2.1. RRDtool Libraries</a></span></dt><dt><span class="section"><a href="#rrdtool_patch_installation_issues">3.1.5.2.2. RRDtool Patch</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#post_installation">3.1.6. Post Installation Tasks</a></span></dt></dl></dd><dt><span class="section"><a href="#service_installation">3.2. Service Installation</a></span></dt><dt><span class="section"><a href="#service_configuration">3.3. Basic Service Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#logging_configuration">3.3.1. Logging Configuration via logger.conf</a></span></dt><dt><span class="section"><a href="#service_information_configuration">3.3.2. Service Configuration via ma.conf</a></span></dt><dt><span class="section"><a href="#store_configuration">3.3.3. Storage Configuration via store.xml</a></span></dt></dl></dd><dt><span class="section"><a href="#service_testing">3.4. Post Installation Tests</a></span></dt><dt><span class="section"><a href="#service_use">3.5. Service Use</a></span></dt></dl></dd><dt><span class="section"><a href="#configuration">4. Metadata and System Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#configuration_logging">4.1. Detailed Logging Configuration</a></span></dt><dt><span class="section"><a href="#configuration_service">4.2. Detailed Service Configuration</a></span></dt><dt><span class="section"><a href="#configuration_store">4.3. Detailed Storage Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#configuration_store_metadata">4.3.1. Metadata Structure</a></span></dt><dd><dl><dt><span class="section"><a href="#configuration_store_metadata_metadata">4.3.1.1. Metadata</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_subject">4.3.1.2. Subject</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_eventType">4.3.1.3. EventType</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_parameters">4.3.1.4. Parameters</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_parameter">4.3.1.5. Parameter</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_interface">4.3.1.6. Interface</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_ifAddress">4.3.1.7. IfAddress</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_hostName">4.3.1.8. HostName</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_ifName">4.3.1.9. IfName</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_ifIndex">4.3.1.10. IfIndex</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_direction">4.3.1.11. Direction</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_capacity">4.3.1.12. Capacity</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_ifDescription">4.3.1.13. IfDescription and Description</a></span></dt><dt><span class="section"><a href="#configuration_store_metadata_authRealm">4.3.1.14. AuthRealm</a></span></dt></dl></dd><dt><span class="section"><a href="#configuration_store_data">4.3.2. Data Structure</a></span></dt><dd><dl><dt><span class="section"><a href="#configuration_store_data_data">4.3.2.1. Data</a></span></dt><dt><span class="section"><a href="#configuration_store_data_key">4.3.2.2. Key</a></span></dt><dt><span class="section"><a href="#configuration_store_data_parameters">4.3.2.3. Parameters</a></span></dt><dt><span class="section"><a href="#configuration_store_data_parameter">4.3.2.4. Parameter</a></span></dt></dl></dd><dt><span class="section"><a href="#configuration_schema">4.3.3. XML Schema Definitions</a></span></dt><dd><dl><dt><span class="section"><a href="#configuration_schema_relax">4.3.3.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#configuration_schema_xsd">4.3.3.2. XSD</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#functional">5. Functional Specification</a></span></dt><dd><dl><dt><span class="section"><a href="#functional_key">5.1. Key Retrieval</a></span></dt><dd><dl><dt><span class="section"><a href="#functional_key_success">5.1.1. Success</a></span></dt><dt><span class="section"><a href="#functional_key_failure">5.1.2. Failure</a></span></dt><dt><span class="section"><a href="#functional_key_messages">5.1.3. Messages</a></span></dt></dl></dd><dt><span class="section"><a href="#functional_data">5.2. Data Retrieval</a></span></dt><dd><dl><dt><span class="section"><a href="#functional_data_success">5.2.1. Success</a></span></dt><dt><span class="section"><a href="#functional_data_failure">5.2.2. Failure</a></span></dt><dt><span class="section"><a href="#functional_data_messages">5.2.3. Messages</a></span></dt></dl></dd><dt><span class="section"><a href="#functional_echo">5.3. Echo Service</a></span></dt><dd><dl><dt><span class="section"><a href="#functional_echo_success">5.3.1. Success</a></span></dt><dt><span class="section"><a href="#functional_echo_failure">5.3.2. Failure</a></span></dt><dt><span class="section"><a href="#functional_echo_messages">5.3.3. Messages</a></span></dt></dl></dd><dt><span class="section"><a href="#functional_ls">5.4. Lookup Service Interaction</a></span></dt><dd><dl><dt><span class="section"><a href="#functional_ls_success">5.4.1. Success</a></span></dt><dt><span class="section"><a href="#functional_ls_failure">5.4.2. Failure</a></span></dt><dt><span class="section"><a href="#functional_ls_messages">5.4.3. Messages</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#interface">6. Interface Specification</a></span></dt><dt><span class="glossary"><a href="#glossary">Terms</a></span></dt><dt><span class="bibliography"><a href="#bibliography">References</a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="changes"></a>1. Document Changes</h2></div></div></div><div class="table"><a id="table.1"></a><p class="title"><b>Table 1. Change Log</b></p><div class="table-contents"><table summary="Change Log" border="1"><colgroup><col align="left" /></colgroup><thead><tr><th align="left">Version</th><th align="left">Date</th><th align="left">Description</th><th align="left">Author(s)</th></tr></thead><tbody><tr><td align="left">1.0</td><td align="left">1/3/2008</td><td align="left">Initial Preparation</td><td align="left">J. Zurawski</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="introduction"></a>2. Introduction</h2></div></div></div><p>
      <span class="emphasis"><em>perfSONAR-PS</em></span> is an implementation of the 
      <a href="#perfSONAR">perfSONAR</a> standard written in the
      [<a href="#id2534691" title="[Perl]"><abbr class="abbrev">Perl</abbr></a>] programming language.
      <span class="emphasis"><em>perfSONAR-PS</em></span> aims for complete compatibility with
      all other implementations of the <span class="emphasis"><em>perfSONAR</em></span> standard.
    </p><p>
      This document describes the details of the
      <span class="emphasis"><em>perfSONAR-PS</em></span> SNMP based Measurement Archive
      (<span><strong class="command">MA</strong></span>).  In addition to outlining the installation and
      configuration steps, a detailed guide of interface and functional behavior
      is included.  The interface specification is meant to give a 
      <span class="emphasis"><em>black box</em></span> understanding of the workings of the 
      service, while the functional specification describes the inner workings 
      of the service decision making process.
    </p><p>  
      This software offers the ability to <span class="emphasis"><em>publish</em></span> data 
      collected via <a href="#snmp">SNMP</a> variables.  This particular release 
      focuses on data that offers certain <a href="#characteristic">characteristics</a> of
      the network, namely network <span class="emphasis"><em>utilization</em></span>,
      <span class="emphasis"><em>errors</em></span>, and <span class="emphasis"><em>discards</em></span>.  These 
      three metrics are collected via (external) means and are normally stored 
      in Round Robin Databases ([<a href="#id2534804" title="[RRD]"><abbr class="abbrev">RRD</abbr></a>]).  The collection of 
      these metrics is beyond the scope if this software release, but many tools
      exist such as [<a href="#id2534740" title="[MRTG]"><abbr class="abbrev">MRTG</abbr></a>], [<a href="#id2534756" title="[SNAPP]"><abbr class="abbrev">SNAPP</abbr></a>], 
      [<a href="#id2534773" title="[Cricket]"><abbr class="abbrev">Cricket</abbr></a>], and [<a href="#id2534789" title="[CACTI]"><abbr class="abbrev">CACTI</abbr></a>] that are 
      capable of collecting and storing network data.
    </p><p>
      The <span class="emphasis"><em>publishing</em></span> of <a href="#data">data</a> is 
      accomplished by exposing the data located in <span class="emphasis"><em>RRD</em></span>
      files by describing the <a href="#metadata">metadata</a> (i.e. static
      information about the data such as how/where it was collected, etc.)  A
      Web Services (<span><strong class="command">WS</strong></span>) interface is offered that allows
      client applications such as [<a href="#id2534853" title="[perfSONAR-UI]"><abbr class="abbrev">perfSONAR-UI</abbr></a>] to contact
      this service, query for specific resources, and finally present graphs
      of the results.
    </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="installation"></a>3. Installation Procedures</h2></div></div></div><p>
      Before installing the <span class="emphasis"><em>SNMP MA</em></span>, be sure to check if
      the software listed in <a href="#prerequisites">Software Prerequisites</a> is currently
      installed on the target system.  This can be done in one of two ways:
      following <a href="#auto_installation">Automatic Installation</a> or
      <a href="#manual_installation">Manual Installation</a>.  Software versions may change
      from prior releases of <span class="emphasis"><em>perfSONAR-PS</em></span> without explicit
      notice.
    </p><p>
      After installing the necessary prerequisite software, the actual software
      must be installed according to <a href="#service_installation">Service Installation</a>.  
      It is necessary to perform some basic configuration steps outlined in 
      <a href="#service_configuration">Basic Service Configuration</a>, followed by testing the 
      configuration and installation in <a href="#service_testing">Post Installation Tests</a>.  
      Finally we can start the service with instructions in 
      <a href="#service_use">Service Use</a>.  
    </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="prerequisites"></a>3.1. Software Prerequisites</h3></div></div></div><p>
        To function properly, the <span class="emphasis"><em>SNMP MA</em></span> service requires
        the use of some prerequisite software to both store and mange the
        underlying data as well as assist with service duties such as parsing
        <a href="#XML">XML</a> or managing the <a href="#SOAP">SOAP</a> over
        <a href="#HTTP">HTTP</a> transportation.  
      </p><p>
        The following sections will guide the user through what is required, and
        how it may be installed as painlessly as possible.  
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="perl_installation"></a>3.1.1. Required Perl Modules</h4></div></div></div><p>
          There are several Perl modules that are required for the
          <span class="emphasis"><em>SNMP MA</em></span> to function properly.  Some of these are
          included in the base Perl installation on many machines, although it
          is important to check all to be sure upgrades are not available.  
        </p><p>
          The following is a list of the necessary modules for the
          <span class="emphasis"><em>SNMP MA</em></span>.
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~nwclark/perl-5.8.8/lib/strict.pm" target="_top">strict</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~nwclark/perl-5.8.8/lib/warnings.pm" target="_top">warnings</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~nwclark/perl-5.8.8/lib/Exporter.pm" target="_top">Exporter</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~kwilliams/PathTools-3.25/Cwd.pm" target="_top">Cwd</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~nwclark/perl-5.8.8/ext/POSIX/POSIX.pod" target="_top">POSIX</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~nwclark/perl-5.8.8/ext/Fcntl/Fcntl.pm" target="_top">Fcntl</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~jv/Getopt-Long-2.37/lib/Getopt/Long.pm" target="_top">Getopt::Long</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~mschilli/Log-Log4perl-1.14/lib/Log/Log4perl.pm" target="_top">Log::Log4perl</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~drolsky/Params-Validate-0.89/lib/Params/Validate.pm" target="_top">Params::Validate</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~drolsky/Log-Dispatch-2.20/lib/Log/Dispatch.pm" target="_top">Log::Dispatch</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~drolsky/Log-Dispatch-2.20/lib/Log/Dispatch/Screen.pm" target="_top">Log::Dispatch::Screen</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~markpf/Log-Dispatch-FileRotate-1.16/FileRotate.pm" target="_top">Log::Dispatch::FileRotate</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~gbarr/IO-1.2301/IO/File.pm" target="_top">IO::File</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~drolsky/Time-Local-1.18/lib/Time/Local.pm" target="_top">Time::Local</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~gaas/libwww-perl-5.808/lib/HTTP/Daemon.pm" target="_top">HTTP::Daemon</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~gaas/libwww-perl-5.808/lib/LWP/UserAgent.pm" target="_top">LWP::UserAgent</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~msergeant/XML-XPath-1.13/XPath.pm" target="_top">XML::XPath</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~pajas/XML-LibXML-1.65/LibXML.pod" target="_top">XML::LibXML</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~tjenness/File-Temp-0.19/Temp.pm" target="_top">File::Temp</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~nwclark/perl-5.8.8/lib/File/Basename.pm" target="_top">File::Basename</a></p></li><li style="list-style-type: circle"><p><a href="http://search.cpan.org/~jhi/Time-HiRes-1.9708/HiRes.pm" target="_top">Time::HiRes</a></p></li></ul></div><p>
          It is recommended that users utilize the installation method described
          in <a href="#auto_installation">Automatic Installation</a>, failing back to 
          <a href="#manual_installation">Manual Installation</a> if problems occur.  
        </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="rrdtool_installation"></a>3.1.2. RRDtool</h4></div></div></div><p>
          <span class="emphasis"><em>RRDTool</em></span> is the OpenSource industry standard,
          high performance data logging and graphing system for time series
          data.
        </p><p>
          The <span class="emphasis"><em>SNMP MA</em></span> relies exclusively on RRD as the
          backend storage to expose data.  Future iterations will incorporated
          additional database technologies, but the current state of the art
          will require <span class="emphasis"><em>RRDtool</em></span>.
        </p><p>    
          To start the installation process, download and unpack RRDTool
        </p><pre class="programlisting"> 
          wget -c http://oss.oetiker.ch/rrdtool/pub/rrdtool.tar.gz
          tar -zxvf rrdtool.tar.gz
        </pre><p>
          From inside of the install directory, configure RRDTool
        </p><pre class="programlisting"> 
          ./configure --prefix=/usr/local/rrdtool --enable-perl-site-install
        </pre><p>      
          Finalize the installation of RRDTool
        </p><pre class="programlisting"> 
          make
          sudo make install
        </pre><p>
          Proceed to <a href="#post_installation">Post Installation Tasks</a> for information 
          regarding post installation tasks regarding setting system paths.  
        </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="auto_installation"></a>3.1.3. Automatic Installation</h4></div></div></div><p>
          An automatic installation script has been developed that will take
          care of obtaining libraries and software needed for this application
          as described in <a href="#perl_installation">Required Perl Modules</a> 
          and <a href="#rrdtool_installation">RRDtool</a>.  The script is named 
          <span class="emphasis"><em>configure.PL</em></span> and can be executed in the
          following manner.
        </p><pre class="programlisting">    
          sudo perl configure.PL
        </pre><p>        
          The script will check for and attempt to install
          <span class="emphasis"><em>RRDtool</em></span> for you.  This process may fail if not
          all of the supporting libraries for <span class="emphasis"><em>RRDtool</em></span> are
          found.  Please see <a href="#rrdtool_installation_issues">RRDtool</a> for
          more information.  The script can be run repeatedly to find issues
          with no harm to the system.
        </p><p> 
          The script will also check for required perl libraries and use
          <span class="emphasis"><em>CPAN</em></span> to install any that are missing or old.
          The script will report any errors that <span class="emphasis"><em>CPAN</em></span>
          encountered due to missing components.  Please see
          <a href="#perl_installation_issues">Perl Modules</a> if the process is not
          successful.  
        </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="manual_installation"></a>3.1.4. Manual Installation</h4></div></div></div><p>
          The most straightforward way to install Perl modules is through the
          <span class="emphasis"><em>CPAN</em></span> administrative interface available on most
          machines:
        </p><pre class="programlisting"> 
          sudo perl -MCPAN -e shell
        </pre><p>
          If this is your first time using <span class="emphasis"><em>CPAN</em></span>, there
          will be several questions to answer as you prepare the interface.
          You will eventually be presented with a shell prompt.
        </p><pre class="programlisting"> 
          cpan[1]&gt;
        </pre><p>
          Modules may be installed by typing:
        </p><pre class="programlisting"> 
          cpan[1]&gt;install MODULE::NAME
        </pre><p>
          Instructions may appear as the installation proceeds, errors may also 
          occur that will need to be handled.  If a module is installed, a
          message may appear:
        </p><pre class="programlisting"> 
          cpan[1]&gt; install MODULE::NAME
          MODULE::NAME is up to date (x.yz).   
        </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="installation_issues"></a>3.1.5. Known Installation Problems</h4></div></div></div><p>
          Issues regarding the installation of <span class="emphasis"><em>RRDtool</em></span>
          and Perl modules are well documented for the
          <span class="emphasis"><em>perfSONAR-PS</em></span> services. We present some of these
          issues here as a brief introduction to items that the
          installer/developer should be aware of.  
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="perl_installation_issues"></a>3.1.5.1. Perl Modules</h5></div></div></div><p>
            Some modules require software libraries that may not be installed 
            on most systems.  Although it is normally the job of the module 
            designer to take care of these situations, this is not always the 
            case.  Specifically the XML modules
            (<span class="emphasis"><em>XML::XPath</em></span>, <span class="emphasis"><em>XML::LibXML</em></span>)
            require the the XML::Parser module that depends on several
            internal libraries.
          </p><p>      
            If you system is equipped with a software management system (such as 
            <a href="#apt">apt</a>, <a href="#yum">yum</a>, or 
            <a href="#up2date">up2date</a>) try and locate the 
            <span class="emphasis"><em>xml-parser-perl</em></span> package via the search
            interface.  This is the easiest way to avoid trouble with
            <span class="emphasis"><em>CPAN</em></span>.  Additionally, ensure that
            <span class="emphasis"><em>libxml2-dev</em></span>, the <span class="emphasis"><em>LibXML</em></span>
            version 2 development libraries, are also available.
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="rrdtool_installation_issues"></a>3.1.5.2. RRDtool</h5></div></div></div><p>
            <span class="emphasis"><em>RRDtool</em></span> in general is easy to install when
            using a software management system (such as <a href="#apt">apt</a>,
            <a href="#yum">yum</a>, or <a href="#up2date">up2date</a>).  Because we
            will be using 'development' tools from this software (namely the
            Perl communication libraries) we suggest a source install rather
            than a binary.  
          </p><p>
            The source installation can be complicated by factors such as
            missing libraries, or even issues related to the
            <span class="emphasis"><em>C</em></span> compiler.  Additionally, we have found that
            <span class="emphasis"><em>RRDtool</em></span> does not handle certain error
            conditions gracefully, and requires a patched (supplied) to prevent
            unwanted system behavior.  
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="rrdtool_library_installation_issues"></a>3.1.5.2.1. RRDtool Libraries</h6></div></div></div><p>        
              <span class="emphasis"><em>RRDtool</em></span> requires four development libraries
              that may not be found on most systems.
            </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>libart 2 dev</p></li><li style="list-style-type: circle"><p>zlib dev</p></li><li style="list-style-type: circle"><p>libpng 1.2 dev</p></li><li style="list-style-type: circle"><p>freetype 2 dev</p></li></ul></div><p>
              It is recommended that a package updating system (such as 
              <a href="#apt">apt</a>, <a href="#yum">yum</a>, or 
              <a href="#up2date">up2date</a>) be used to find the correct versions 
              of these libraries and install them automatically.
            </p><p>
              If a software management system is unavailable, the libraries can 
              be downloaded and installed from this location: 
              <a href="http://oss.oetiker.ch/rrdtool/pub/libs/" target="_top">http://oss.oetiker.ch/rrdtool/pub/libs/</a>
            </p><p>
              Ensure that all install locations are accessible through path
              variables, see <a href="#post_installation">Post Installation Tasks</a> for more
              information.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="rrdtool_patch_installation_issues"></a>3.1.5.2.2. RRDtool Patch</h6></div></div></div><p>        
              <span class="emphasis"><em>RRDtool</em></span> is known to enter into an infinite
              loop due to a failed check on an error condition located in the
              RRDp.pm Perl module.  A patch is available in
              <span><strong class="command">util/</strong></span> of this distribution.  To apply the
              patch, follow these instructions.
            </p><p> 
              Find your copy of RRDp.pm
            </p><pre class="programlisting"> 
              find /usr | grep RRDp.pm
            </pre><p> 
              Copy the patchfile to that location
            </p><pre class="programlisting"> 
              sudo cp patchfile /PATH/TO/FILE &amp;&amp; cd /PATH/TO/FILE 
            </pre><p> 
              Patch
            </p><pre class="programlisting"> 
              sudo patch -p0 -u &lt; patchfile
            </pre><p> 
              Remove the patchfile
            </p><pre class="programlisting"> 
              sudo rm -f patchfile
            </pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="post_installation"></a>3.1.6. Post Installation Tasks</h4></div></div></div><p>
          Set necessary paths for <span class="emphasis"><em>RRDtool</em></span> (this can be
          done from <span><strong class="command">/etc/profile</strong></span>, or from other recognized
          locations).
        </p><pre class="programlisting"> 
          export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/rrdtool/lib
          export PATH=$PATH:/usr/local/rrdtool/bin 
        </pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="service_installation"></a>3.2. Service Installation</h3></div></div></div><p>
        After installing the prerequisite software, the remaining steps to
        getting the <span class="emphasis"><em>SNMP MA</em></span> working are few.  The software
        directory should be placed in a common location such as
        <span><strong class="command">/usr/local</strong></span> or <span><strong class="command">/opt</strong></span>.  This is not
        a requirement.  Note that other paths (particularly in configuration 
        files) may need to be changed to reflect this move.
      </p><p>
        There are three major configuration files that may be adjusted,
        although the software is configured to run
        <span class="emphasis"><em>out of the box</em></span>.  The configurations files can be
        adjusted to personalize settings, and to add the metrics you are
        collecting of course.
      </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="service_configuration"></a>3.3. Basic Service Configuration</h3></div></div></div><p>
        There are three major configuration files for the
        <span class="emphasis"><em>SNMP MA</em></span> service.  Each file is configured to run
        <span class="emphasis"><em>out of the box</em></span>, so modifying these files is only
        necessary to <span class="emphasis"><em>customize</em></span> the behavior of this
        service (or make it available for non-<span class="emphasis"><em>localhost</em></span>
        viewing).  
      </p><p>
        A more detailed explanation of the various configuration options and
        the reasoning behind each is available in 
        <a href="#configuration">Metadata and System Configuration</a>.  
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="logging_configuration"></a>3.3.1. Logging Configuration via logger.conf</h4></div></div></div><p>
            This file contains information regarding logging in the
            <span class="emphasis"><em>perfSONAR-PS</em></span> architecture.  Under normal
            circumstances the file will not need to be changed.  The only real
            choice worth noting during testing is choosing between the
            following three output methods.
          </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">log4perl.appender.A1=Log::Dispatch::Screen</strong></span></p></li><li style="list-style-type: circle"><p><span><strong class="command">log4perl.appender.A1=Log::Dispatch::Syslog</strong></span></p></li><li style="list-style-type: circle"><p><span><strong class="command">log4perl.appender.A1=Log::Dispatch::FileRotate</strong></span></p></li></ul></div><p>
            The <span class="emphasis"><em>Screen</em></span> method sends log files to the 
            output screen, The <span class="emphasis"><em>Syslog</em></span> method will append 
            the log messages directly to the Syslog system, and the 
            <span class="emphasis"><em>FileRotate</em></span> method appends log messages to a 
            specified log file (specified via 
            <span class="emphasis"><em>log4perl.appender.A1.filename</em></span>) and will 
            automatically rotate when they get too large (specified via 
            <span class="emphasis"><em>log4perl.appender.A1.size</em></span>).
          </p><p>
            The default setting is to log to the screen.        
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="service_information_configuration"></a>3.3.2. Service Configuration via ma.conf</h4></div></div></div><p>
            This file contains detailed information and settings that help
            operate the <span class="emphasis"><em>SNMP MA</em></span>.  A major listing of all
            directives and their full meaning is available in
            <a href="#configuration_service">Service Configuration</a>.  It is noted that
            none of these things <span class="emphasis"><em>needs</em></span> to be changed for
            the software to work.  These options help to customize the service
            further or avoid security restrictions (i.e. firewall ports, etc.).  
          </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
                <span><strong class="command">METADATA_DB_FILE</strong></span> - Location of the
                <span class="emphasis"><em>store.xml</em></span> file
              </p></li><li style="list-style-type: circle"><p>
                <span><strong class="command">RRDTOOL</strong></span> - Path to 
                <span class="emphasis"><em>RRDtool</em></span>.
              </p></li><li style="list-style-type: circle"><p>
                <span><strong class="command">PORT</strong></span> - Listen port for the application
              </p></li><li style="list-style-type: circle"><p>
                <span><strong class="command">ENDPOINT</strong></span>This is used in conjunction with the 
                port and hostname:
                <span class="emphasis"><em>http://HOST:PORT/end/Point/String</em></span>
              </p></li></ul></div><p>
            A helper utility named <span class="emphasis"><em>configure.pl</em></span> (located 
            in <span><strong class="command">util/</strong></span>) can help create this file by 
            providing questions regarding each value.        
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="store_configuration"></a>3.3.3. Storage Configuration via store.xml</h4></div></div></div><p> 
            This file contains the metadata descriptions of each of the
            interfaces that will be offering data to the service.
            Additionally, there are also <span class="emphasis"><em>keys</em></span> that list
            information used to access the data.  See the current store file
            for an example of the format, it is important to keep the format
            very similar as much of the service's usefulness depends on being
            able to search/locate information via this description.
          </p><p>
            Further motivation as to how this file is organized, constructed, 
            and the reasons why it exists are available in 
            <a href="#configuration">Metadata and System Configuration</a>.
          </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="service_testing"></a>3.4. Post Installation Tests</h3></div></div></div><p>
        As stated previously, the <span><strong class="command">MA</strong></span> can run essentially out
        of the box (locally at least).  You will need two terminal sessions to
        test out the <span><strong class="command">MA</strong></span>, one for the server and the other
        for a client application (included).
      </p><p>
        In the first terminal, enter the directory where the software is 
        installed, run the following command.
      </p><pre class="programlisting">
        ./ma.pl --verbose
      </pre><p>    
        You will see output similar to the following example.
      </p><pre class="programlisting">
        
      Use of uninitialized value in scalar chomp at ./ma.pl line 188.
      Use of uninitialized value in string ne at ./ma.pl line 189.
      2007/10/31 13:02:13 (30564) DEBUG&gt; ma.pl:119 main:: - Starting '30564'
      2007/10/31 13:02:13 (30564) DEBUG&gt; Transport.pm:166 perfSONAR_PS::Transport::startDaemon - 
        Starting daemon.
      2007/10/31 13:02:13 (30564) DEBUG&gt; ma.pl:136 main:: - 
        Not registering with an LS instance
      2007/10/31 13:02:13 (30565) DEBUG&gt; ma.pl:226 main::measurementArchive - 
        Starting '30565' as the MA.
      2007/10/31 13:02:13 (30565) DEBUG&gt; Transport.pm:187 perfSONAR_PS::Transport::acceptCall - 
        Accepting calls.
        
      </pre><p>
        The server is started, and it has stared its major functions:
        registering data with an <span><strong class="command">LS</strong></span> and listening for
        calls.  The <span><strong class="command">LS</strong></span> registration functionality is
        disabled by default.
      </p><p>
        In the second terminal, enter the directory where the software is 
        installed, change into the <span class="emphasis"><em>client</em></span> directory, and 
        run this command as follows.
      </p><pre class="programlisting">
      ./client.pl --server=localhost --port=8081 --endpoint=perfSONAR_PS/services/snmpMA 
        requests/EchoRequest.xml
      </pre><p>
        This will tell the client to contact the <span><strong class="command">MA</strong></span> which is
        running on 
        <span class="emphasis"><em>http://localhost:8081/perfSONAR_PS/services/snmpMA</em></span>.
      </p><p>
        And will send a simple <span class="emphasis"><em>EchoRequest</em></span> message (to see if the 
        server is active).  The client will see this output if everything is 
        running smoothly.
      </p><pre class="programlisting">
        
      2007/10/31 13:22:01 (31823) DEBUG&gt; Transport.pm:145 perfSONAR_PS::Transport::getHttpURI - 
        Created URI: http://localhost:8081//perfSONAR_PS/services/snmpMA
      2007/10/31 13:22:01 (31823) DEBUG&gt; Transport.pm:346 perfSONAR_PS::Transport::sendReceive - 
        Sending information to "http://localhost:8081//perfSONAR_PS/services/snmpMA".
      2007/10/31 13:22:01 (31823) DEBUG&gt; Transport.pm:364 perfSONAR_PS::Transport::sendReceive - 
        Response returned.
      &lt;?xml version="1.0"?&gt;
      &lt;SOAP-ENV:Envelope xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" 
                         xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
                         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                         xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
        &lt;SOAP-ENV:Header/&gt;
        &lt;SOAP-ENV:Body&gt;
          &lt;nmwg:message xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" id="message.8731091" 
                        messageIdRef="echoRequest1" type="EchoResponse"&gt;
            &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" id="metadata.15782028" 
                           metadataIdRef="meta1"&gt;
              &lt;nmwg:eventType&gt;success.echo&lt;/nmwg:eventType&gt;
            &lt;/nmwg:metadata&gt;
            &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" id="data.14442771" 
                       metadataIdRef="metadata.15782028"&gt;
              &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/"&gt;
                The echo request has passed.
              &lt;/nmwgr:datum&gt;
            &lt;/nmwg:data&gt;
          &lt;/nmwg:message&gt;
        &lt;/SOAP-ENV:Body&gt;
      &lt;/SOAP-ENV:Envelope&gt;
        
      </pre><p>
        If you are not seeing a similar message, you may see something such as
        this.
      </p><pre class="programlisting">
        
      2007/10/31 13:32:29 (32494) DEBUG&gt; Transport.pm:145 perfSONAR_PS::Transport::getHttpURI - 
        Created URI: http://localhost:8081//perfSONAR_PS/services/snmpMA
      2007/10/31 13:32:29 (32494) DEBUG&gt; Transport.pm:346 perfSONAR_PS::Transport::sendReceive - 
        Sending information to "http://localhost:8081//perfSONAR_PS/services/snmpMA".
      2007/10/31 13:32:29 (32494) DEBUG&gt; Transport.pm:356 perfSONAR_PS::Transport::sendReceive - 
        Send to "http://localhost:8081//perfSONAR_PS/services/snmpMA" failed.
      Empty String at ./client.pl line 106
        
      </pre><p>
        This message indicates that the server is not properly listening on the
        port you are contacting, perhaps it is listening on another, the port
        is firewalled, or it may not be started at all.  Please check the above
        steps, and try again.
      </p><p>
        In the first terminal, this information will appear when the call comes
        in.
      </p><pre class="programlisting">
        
      2007/10/31 13:21:58 (31815) DEBUG&gt; ma.pl:119 main:: - Starting '31815'
      2007/10/31 13:21:58 (31815) DEBUG&gt; Transport.pm:166 perfSONAR_PS::Transport::startDaemon - 
        Starting daemon.
      2007/10/31 13:21:58 (31815) DEBUG&gt; ma.pl:136 main:: - 
        Not registering with an LS instance
      2007/10/31 13:21:58 (31817) DEBUG&gt; ma.pl:226 main::measurementArchive - 
        Starting '31817' as the MA.
      2007/10/31 13:21:58 (31817) DEBUG&gt; Transport.pm:187 perfSONAR_PS::Transport::acceptCall - 
        Accepting calls.
      2007/10/31 13:22:01 (31817) INFO&gt; Transport.pm:198 perfSONAR_PS::Transport::acceptCall - 
        Received call from:    127.0.0.1
      2007/10/31 13:22:01 (31817) DEBUG&gt; Common.pm:281 perfSONAR_PS::Common::reMap - 
        Setting namespace "http://schemas.xmlsoap.org/soap/envelope/" with prefix "SOAP-ENV".
      2007/10/31 13:22:01 (31817) DEBUG&gt; Common.pm:281 perfSONAR_PS::Common::reMap - 
        Setting namespace "http://ggf.org/ns/nmwg/base/2.0/" with prefix "nmwg".
      2007/10/31 13:22:01 (31817) DEBUG&gt; Request.pm:108 perfSONAR_PS::Request::parse - 
      &lt;?xml version="1.0"?&gt;
      &lt;nmwg:message xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" type="EchoRequest" 
                    id="echoRequest1"&gt;
        &lt;nmwg:metadata id="meta1"&gt;
          &lt;nmwg:eventType&gt;http://schemas.perfsonar.net/tools/admin/echo/2.0&lt;/nmwg:eventType&gt;
        &lt;/nmwg:metadata&gt;
        &lt;nmwg:data id="data1" metadataIdRef="meta1"/&gt;
      &lt;/nmwg:message&gt;
      2007/10/31 13:22:01 (31817) DEBUG&gt; Request.pm:183 perfSONAR_PS::Request::setResponse - 
      &lt;?xml version="1.0"?&gt;
      &lt;SOAP-ENV:Envelope xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/"
                         xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                         xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
        &lt;SOAP-ENV:Header/&gt;
        &lt;SOAP-ENV:Body&gt;
          &lt;nmwg:message xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" id="message.8731091" 
                        messageIdRef="echoRequest1" type="EchoResponse"&gt;
            &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" id="metadata.15782028" 
                           metadataIdRef="meta1"&gt;
              &lt;nmwg:eventType&gt;success.echo&lt;/nmwg:eventType&gt;
            &lt;/nmwg:metadata&gt;
            &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" id="data.14442771" 
                       metadataIdRef="metadata.15782028"&gt;
              &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/"&gt;
                The echo request has passed.
              &lt;/nmwgr:datum&gt;
            &lt;/nmwg:data&gt;
          &lt;/nmwg:message&gt;
        &lt;/SOAP-ENV:Body&gt;
      &lt;/SOAP-ENV:Envelope&gt;
      2007/10/31 13:22:01 (31817) DEBUG&gt; SNMP.pm:147 perfSONAR_PS::MA::SNMP::receive - 
        Received 'shadow' request from below; no action required.
      2007/10/31 13:22:01 (31817) INFO&gt; Request.pm:271 perfSONAR_PS::Request::finish - 
        Seconds required to handle request from 127.0.0.1: 0
      2007/10/31 13:22:01 (31817) DEBUG&gt; Request.pm:275 perfSONAR_PS::Request::finish - 
        Closing call.
      2007/10/31 13:22:01 (31817) DEBUG&gt; Transport.pm:187 perfSONAR_PS::Transport::acceptCall - 
        Accepting calls.
        
      </pre><p>
        The other messages in the <span class="emphasis"><em>client/requests</em></span> may also
        be tried, with similar results.
      </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="service_use"></a>3.5. Service Use</h3></div></div></div><p>
        The software can be run as the following command.
      </p><pre class="programlisting">
        ./ma.pl
      </pre><p>
        This will background the process automatically.  Be sure to adjust your 
        logging settings in <span class="emphasis"><em>logger.conf</em></span>.
      </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="configuration"></a>4. Metadata and System Configuration</h2></div></div></div><p>
      In <a href="#service_configuration">Basic Service Configuration</a> we briefly introduced
      some of the configuration that is necessary for the
      <span class="emphasis"><em>SNMP MA</em></span> in the context of getting the deployment
      to work smoothly.  We will build upon the previous explanations in this
      section with a deeper description of the three configuration files, as
      well as some theory regarding the design and layout of these files.
    </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="configuration_logging"></a>4.1. Detailed Logging Configuration</h3></div></div></div><p>
        The logging facility used in this software is 
        [<a href="#id2534707" title="[log4perl]"><abbr class="abbrev">log4perl</abbr></a>], a derivative of the popular
        <span class="emphasis"><em>log4j</em></span> logging package used in Java.  Log4perl
        offers the same ease of use as <span class="emphasis"><em>log4j</em></span> does by
        allowing the user to control the <span class="emphasis"><em>level</em></span>
        of logging used, thus increase or decreasing the amount of reported 
        information.  The ability to log is delivered through the use of a 
        small log object, and single method calls based on level to output
        information.
      </p><p>
        The logging is controlled via a very small configuration file, 
        included in this package.  Most interesting options are included
        in this file already, and under normal circumstances it should
        not be edited.  The following brief overview describes the
        various directives of this file and how they may be twiddled to
        better suit the interested user.  Those interested in adding
        options not included with the software may do so, but at their
        own risk.
      </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.logger.perfSONAR_PS=DEBUG, A1</strong></span> -
            Establishes the <span class="emphasis"><em>top</em></span> of the hierarchy for the
            logging object (perfSONAR_PS), sets the default log level
            (<span class="emphasis"><em>DEBUG</em></span> in this case, you are free to choose
            <span class="emphasis"><em>TRACE</em></span>, <span class="emphasis"><em>DEBUG</em></span>, 
            <span class="emphasis"><em>INFO</em></span>, <span class="emphasis"><em>WARN</em></span>, 
            <span class="emphasis"><em>ERROR</em></span>, or <span class="emphasis"><em>FATAL</em></span>), and
            finally gives the object a <span class="emphasis"><em>localname</em></span> (A1 in
            this case).  The local name will be used to set other options on
            this new object we have created. 
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.appender.A1=DISPATCHER</strong></span> - Pick one of
            several dispatching entities to record the log messages that are
            thrown.  The common choices are as follows.
          </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
                <span><strong class="command">log4perl.appender.A1=Log::Dispatch::Screen</strong></span> -
                Output log messages directly to the screen.</p></li><li style="list-style-type: circle"><p>
                <span><strong class="command">log4perl.appender.A1=Log::Dispatch::Syslog</strong></span> -
                Output log messages to the syslog facility.</p></li><li style="list-style-type: circle"><p>
                <span><strong class="command">log4perl.appender.A1=Log::Dispatch::FileRotate</strong></span> -
                Output log messages to the log file specified by 
                <span class="emphasis"><em>log4perl.appender.A1.filename</em></span>.  The log
                file (<span class="emphasis"><em>log4perl.appender.A1.filename=log/perfSONAR.log</em></span>) 
                will then be <span class="emphasis"><em>rotated</em></span> according to
                size (<span class="emphasis"><em>log4perl.appender.A1.max</em></span>) and 
                number (<span class="emphasis"><em>log4perl.appender.A1.size</em></span>).  
              </p></li></ul></div></li><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.appender.A1.filename=log/perfSONAR.log</strong></span> -
            specify the location of a log file, can be absolute (i.e. 
            <span class="emphasis"><em>/path/to/file</em></span>) or relative (i.e. 
            <span class="emphasis"><em>./path/to/file</em></span>).  Be sure the user running the
            service has permission to write the log file.  Note that this
            option is really only valid when used with the 
            <span class="emphasis"><em>log4perl.appender.A1=Log::Dispatch::FileRotate</em></span> 
            option.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.appender.A1.max=5</strong></span> - Signifies the
            <span class="emphasis"><em>number</em></span> of old log files to keep around when
            rotating logs.  Note that this option is really only valid when
            used with the <span class="emphasis"><em>log4perl.appender.A1=Log::Dispatch::FileRotate</em></span> 
            option.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.appender.A1.size=16777216</strong></span> - Signifies
            the <span class="emphasis"><em>size</em></span> a log file can attain before being
            rotated out.  Note that this option is really only valid when used
            with the 
            <span class="emphasis"><em>log4perl.appender.A1=Log::Dispatch::FileRotate</em></span> 
            option.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.appender.A1.mode=append</strong></span> - Sets the mode
            to append, this should not be altered.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.appender.A1.layout=Log::Log4perl::Layout::PatternLayout</strong></span> - 
            Uses a standard logging pattern when recording info.  We will alter
            this with
            <span class="emphasis"><em>log4perl.appender.A1.layout.ConversionPattern</em></span>.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">log4perl.appender.A1.layout.ConversionPattern=%d (%P) %p&gt; %F{1}:%L %M - %m%n</strong></span> - 
            Sets the logging output to be the date and time, the PID, the
            logging mode, the module name, the line number, the module object
            hierarchy, the function, and finally the message to be printed.  
          </p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="configuration_service"></a>4.2. Detailed Service Configuration</h3></div></div></div><p>
        The <span class="emphasis"><em>ma.conf</em></span> file describes configurable options
        about the service that can be specified by the user.  Items that 
        deal with important system information (i.e.
        <span><strong class="command">METADATA_DB_FILE</strong></span>), performance(i.e.
        <span><strong class="command">MAX_WORKER_PROCESSES</strong></span>), and style 
        (i.e. <span><strong class="command">SERVICE_NAME</strong></span>) are included in this file.  The
        following listing describes the various options that can be adjusted
        in detail.  
      </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
            <span><strong class="command">METADATA_DB_TYPE</strong></span> - <span class="emphasis"><em>Type</em></span>
            of the metadata database, this should be <span class="emphasis"><em>file</em></span>
            (and only file) for this particular service.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">METADATA_DB_NAME</strong></span> - Not to be used in this
            service.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">METADATA_DB_FILE</strong></span> - Location of the
            <span class="emphasis"><em>store.xml</em></span> file, 
            the location of all metadata and key descriptions.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">RRDTOOL</strong></span> - Path to the <span class="emphasis"><em>BINARY</em></span>
            for <span class="emphasis"><em>RRDtool</em></span>.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">PORT</strong></span> - Listen port for the application.
            This should be something that can be accessed from the outside
            world (not blocked by firewall rules, etc.).
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">ENDPOINT</strong></span> - An <span class="emphasis"><em>endPoint</em></span> is a
            contact string that a service is listening on.  This is used in
            conjunction with the port and hostname:
            <span class="emphasis"><em>http://HOST:PORT/end/Point/String</em></span>
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">DEFAULT_RESOLUTION</strong></span> - This is a value that
            pertains to the <span class="emphasis"><em>resolution</em></span> used in the
            <span class="emphasis"><em>RRA</em></span>s in an <span class="emphasis"><em>RRD</em></span>.  It can
            be left blank if unsure.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">LS_REGISTRATION_INTERVAL</strong></span>  - The interval of time
            (in seconds) that this service will contact the
            <span class="emphasis"><em>LS_INSTANCE</em></span> to register itself.  This value
            can be <span class="emphasis"><em>0</em></span> if you do not want to register with
            an <span><strong class="command">LS</strong></span>.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">LS_INSTANCE</strong></span> - The <span><strong class="command">LS</strong></span> that
            will be contacted to register this service.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">SERVICE_NAME</strong></span> - String describing the
            <span class="emphasis"><em>name</em></span> of this <span><strong class="command">MA</strong></span>.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">SERVICE_ACCESSPOINT</strong></span> - String describing the 
            <span class="emphasis"><em>accessPoint</em></span> of this <span><strong class="command">MA</strong></span>.
            This string is how the service can be reached:
            <span class="emphasis"><em>http://HOST:PORT/end/Point/String</em></span>
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">SERVICE_TYPE</strong></span> - String describing the
            <span class="emphasis"><em>type</em></span> of this <span><strong class="command">MA</strong></span>, it can be
            just <span class="emphasis"><em>MA</em></span> or <span class="emphasis"><em>SNMP MA</em></span>, etc.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">SERVICE_DESCRIPTION</strong></span> - String describing this
            <span><strong class="command">MA</strong></span>, it can include location info, etc.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">MAX_WORKER_PROCESSES</strong></span> - Maximum number of child
            processes that can be spawned at a given time.
          </p></li><li style="list-style-type: circle"><p>
            <span><strong class="command">MAX_WORKER_LIFETIME</strong></span> - Maximum lifetime a child
            has to do work (eliminates hung children)
          </p></li></ul></div><p>
        Note that for the service to be useful, it must be configured
        correctly, and sanely.  Items that may seem simple (such as the
        <span><strong class="command">SERVICE_</strong></span> based directives) will become propagated
        through the system on registration to information services.  Please
        take time to specify the information to make your service function
        correctly and be useful to others.  
      </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="configuration_store"></a>4.3. Detailed Storage Configuration</h3></div></div></div><p>
        The storage configuration, provided by the
        <span class="emphasis"><em>store.xml</em></span> file, is the most important aspect of
        the <span class="emphasis"><em>SNMP MA</em></span> service.  This file is responsible for
        describing the nature of the measurements, as well as providing the
        <span class="emphasis"><em>path</em></span> that must be followed to retrieve the
        relevant collected measurements.  
      </p><p>
        Close inspection of this file reveals a rather predictable pattern, 
        [<span class="citation">NMWG</span>] formatted [<span class="citation">data</span>] and 
        [<span class="citation">metadata</span>] blocks that are linked together via 
        <span class="emphasis"><em>id</em></span> values.  Each <span class="emphasis"><em>metadata</em></span>
        block contains an <span class="emphasis"><em>interface</em></span> description; this
        describes an endpoint of a physical connection between networked
        devices (the most common example being ports of a router).  Each
        <span class="emphasis"><em>data</em></span> block contains information regarding backend
        storage.  There are normally two of these descriptions for each 
        physical interface representing the <span class="emphasis"><em>direction</em></span>
        information may travel.
      </p><p>
        We will now take a closer look at each of these structures, starting
        first with the <span class="emphasis"><em>metadata</em></span>, then moving to the
        <span class="emphasis"><em>data</em></span>.  Each block contains required and optional
        elements (see <a href="#configuration_schema">XML Schema Definitions</a> for a
        [<span class="citation">schema</span>]).  After describing each component, common
        practices and potential errors will be discussed. 
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="configuration_store_metadata"></a>4.3.1. Metadata Structure</h4></div></div></div><p>
          The following description represents a <span class="emphasis"><em>complete</em></span>
          markup of the possible elements that may be used in describing an
          interface in the <span class="emphasis"><em>SNMP MA</em></span> service.  The XML is
          also completely annotated with values, namespaces, and related
          prefixes.  We will examine each of these items in turn.
        </p><pre class="programlisting">
          
            &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                           id="m-in-netutil-1"&gt;
              &lt;netutil:subject xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" 
                               id="s-in-netutil-1"&gt;
                &lt;nmwgt:interface xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                  &lt;nmwgt:ifAddress type="ipv4"&gt;127.0.0.1&lt;/nmwgt:ifAddress&gt;
                  &lt;nmwgt:hostName&gt;localhost&lt;/nmwgt:hostName&gt;
                  &lt;nmwgt:ifName&gt;eth0&lt;/nmwgt:ifName&gt;
                  &lt;nmwgt:ifIndex&gt;2&lt;/nmwgt:ifIndex&gt;
                  &lt;nmwgt:direction&gt;in&lt;/nmwgt:direction&gt;
                  &lt;nmwgt:capacity&gt;1000000000&lt;/nmwgt:capacity&gt;
                  &lt;nmwgt:ifDescription&gt;localhost 1G Ethernet Connection&lt;/nmwgt:ifDescription&gt;
                  &lt;nmwgt:description&gt;localhost 1G Ethernet Connection&lt;/nmwgt:description&gt;
                  &lt;nmwgt:authRealm&gt;public&lt;/nmwgt:authRealm&gt;
                &lt;/nmwgt:interface&gt;
              &lt;/netutil:subject&gt;
              &lt;nmwg:eventType&gt;
                http://ggf.org/ns/nmwg/tools/snmp/2.0
              &lt;/nmwg:eventType&gt;
              &lt;nmwg:eventType&gt;
                http://ggf.org/ns/nmwg/characteristic/utilization/2.0
              &lt;/nmwg:eventType&gt;
              &lt;nmwg:parameters id="p-in-netutil-1"&gt;
                &lt;nmwg:parameter name="supportedEventType"&gt;
                  http://ggf.org/ns/nmwg/tools/snmp/2.0
                &lt;/nmwg:parameter&gt;
                &lt;nmwg:parameter name="supportedEventType"&gt;
                  http://ggf.org/ns/nmwg/characteristic/utilization/2.0
                &lt;/nmwg:parameter&gt;
              &lt;/nmwg:parameters&gt;
            &lt;/nmwg:metadata&gt; 
          
        </pre><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_metadata"></a>4.3.1.1. Metadata</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwg:metadata id="STRING"
                             metadataIdRef="STRING"
                             xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                
                &lt;netutil:subject id="STRING" 
                                 xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" /&gt;
                
                &lt;nmwg:eventType&gt;STRING&lt;/nmwg:eventType&gt;
                
                &lt;nmwg:parameters id="STRING" /&gt;
                
              &lt;/nmwg:metadata&gt; 
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - subject, parameters, eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The metadata element encloses all <span class="emphasis"><em>static</em></span>
            descriptors for a measured entity.  The <span class="emphasis"><em>SNMP MA</em></span>
            is focused on delivering SNMP variables collected for various
            interfaces of a networked device, therefore most of the information
            is focused on modeling this object.  The namespace of this object
            is always the same and the object <span><strong class="command">is</strong></span> required.
          </p><p>
            There are three major required elements that must be enclosed in a 
            <span><strong class="command">metadata</strong></span> description as well as two attributes, 
            one  of which is required.  The 
            <a href="#configuration_store_metadata_subject">Subject</a>, 
            <a href="#configuration_store_metadata_eventType">EventType</a>, and 
            <a href="#configuration_store_metadata_parameters">Parameters</a>
            elements are required for this element.  The <span class="emphasis"><em>id</em></span>
            element is required, while the <span class="emphasis"><em>metadataIdRef</em></span>
            is optional (and should be avoided due to the principal of 
            <span class="emphasis"><em>metadata chaining</em></span> that may interpret this to
            mean something not intended).  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_subject"></a>4.3.1.2. Subject</h5></div></div></div><pre class="programlisting">
            
              &lt;netutil:subject id="STRING" 
                               xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/"&gt;
              
                &lt;nmwgt:interface xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/" /&gt;
              
              &lt;/netutil:subject&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - subject</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - Can be one of the following:
                </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/base/2.0/ - Most General</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/characteristic/utilization/2.0/</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/characteristic/errors/2.0/</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/characteristic/discards/2.0/</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/tools/snmp/2.0/</p></li></ul></div><p>
              </p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - interface</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span><strong class="command">subject</strong></span> element encloses the description of
            the entity being measured.  For the <span class="emphasis"><em>SNMP MA</em></span>
            the <span><strong class="command">subject</strong></span> will <span><strong class="command">always</strong></span>
            contain an interface element.  There are several namespaces that
            are possible when describing interfaces for this service, as listed
            above.  The most general namespace should be used when there 
            are potentially many <span class="emphasis"><em>eventTypes</em></span> that can be
            used to describe an interface.  Note that querying clients,
            especially legacy clients, may only know of the
            <span class="emphasis"><em>utilization</em></span> namespace.  
          </p><p>
            An acceptable rule of thumb is to specify each interface (both 
            directions) in as many namespaces as possible to make your service 
            appealing to all clients.  For example the basic
            <span class="emphasis"><em>store.xml</em></span> file shipped with this software
            contains a single interface, with two directions, only taking into
            account a single <span class="emphasis"><em>characteristic</em></span>: 
            <span class="emphasis"><em>utilization</em></span>.  To add more
            <span class="emphasis"><em>characteristics</em></span> simple copy both
            <span class="emphasis"><em>metadata</em></span> and <span class="emphasis"><em>data</em></span> pairs,
            change the namespace of the <span><strong class="command">subject</strong></span>, and change
            the eventType.  This solution for now is cumbersome, but the
            inclusion of legacy clients into the <span class="emphasis"><em>perfSONAR</em></span> 
            framework is necessary for the short term.
          </p><pre class="programlisting">
            
              &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                             id="m-in-neterr-1"&gt;
                &lt;neterr:subject xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" 
                                id="s-in-neterr-1"&gt;
                  &lt;nmwgt:interface xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                    &lt;nmwgt:ifAddress type="ipv4"&gt;127.0.0.1&lt;/nmwgt:ifAddress&gt;
                    &lt;nmwgt:hostName&gt;localhost&lt;/nmwgt:hostName&gt;
                    &lt;nmwgt:ifName&gt;eth0&lt;/nmwgt:ifName&gt;
                    &lt;nmwgt:ifIndex&gt;2&lt;/nmwgt:ifIndex&gt;
                    &lt;nmwgt:direction&gt;in&lt;/nmwgt:direction&gt;
                    &lt;nmwgt:capacity&gt;1000000000&lt;/nmwgt:capacity&gt;
                    &lt;nmwgt:ifDescription&gt;localhost 1G Ethernet Connection&lt;/nmwgt:ifDescription&gt;
                    &lt;nmwgt:description&gt;localhost 1G Ethernet Connection&lt;/nmwgt:description&gt;
                    &lt;nmwgt:authRealm&gt;public&lt;/nmwgt:authRealm&gt;
                  &lt;/nmwgt:interface&gt;
                &lt;/neterr:subject&gt;
                &lt;nmwg:eventType&gt;
                  http://ggf.org/ns/nmwg/tools/snmp/2.0
                &lt;/nmwg:eventType&gt;
                &lt;nmwg:eventType&gt;
                  http://ggf.org/ns/nmwg/characteristic/errors/2.0
                &lt;/nmwg:eventType&gt;
                &lt;nmwg:parameters id="p-in-neterr-1"&gt;
                  &lt;nmwg:parameter name="supportedEventType"&gt;
                    http://ggf.org/ns/nmwg/tools/snmp/2.0
                  &lt;/nmwg:parameter&gt;
                  &lt;nmwg:parameter name="supportedEventType"&gt;
                    http://ggf.org/ns/nmwg/characteristic/errors/2.0
                  &lt;/nmwg:parameter&gt;
                &lt;/nmwg:parameters&gt;
              &lt;/nmwg:metadata&gt; 
            
          </pre><p>
            There is one major element that must be enclosed in a 
            <span><strong class="command">subject</strong></span> description as well as one required 
            attribute. 
          </p><p>
            The <a href="#configuration_store_metadata_interface">Interface</a> is 
            required for this element.  The <span class="emphasis"><em>id</em></span> element
            is also required.
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_eventType"></a>4.3.1.3. EventType</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwg:eventType xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                STRING
              &lt;/nmwg:eventType&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - Text, representing a URI</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span><strong class="command">eventType</strong></span> element describes the 
            <span class="emphasis"><em>tool</em></span> or <span class="emphasis"><em>characteristic</em></span>
            that best classifies a measurement.  This element can only be from
            the <span class="emphasis"><em>base</em></span> namespace, and should not have any 
            attributes or elements.  It must contain text that forms a URI
            (similar to the namespaces).  There may be multiple 
            <span><strong class="command">eventType</strong></span> elements in single element to allow
            multiple classifications.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_parameters"></a>4.3.1.4. Parameters</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwg:parameters xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                               id="STRING"&gt;
                               
                &lt;nmwg:parameter name="STRING"&gt;STRING&lt;/nmwg:parameter&gt;

              &lt;/nmwg:parameters&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - </p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - Can be one of the following:
                </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/base/2.0/ - Most General</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/characteristic/utilization/2.0/</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/characteristic/errors/2.0/</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/characteristic/discards/2.0/</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/tools/snmp/2.0/</p></li></ul></div><p>
              </p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - flexible</p></li></ul></div><p>
            The <span><strong class="command">parameters</strong></span> element is designed to contain
            variable aspects of the static <span class="emphasis"><em>metadata</em></span>.
            These can be viewed similar to <span class="emphasis"><em>parameters</em></span> that
            are passed to a system call.  The <span class="emphasis"><em>SNMP MA</em></span> is
            only concerned with <span class="emphasis"><em>parameters</em></span> that are related
            to <span><strong class="command">eventType</strong></span>, namely the parameter named
            <span class="emphasis"><em>supportedEventType</em></span>.  
          </p><p>
            The <span><strong class="command">parameters</strong></span> element, like the 
            <span><strong class="command">subject</strong></span> element, can be in one of several 
            namespaces depending on the nature of the internal data.  If there
            are <span class="emphasis"><em>parameters</em></span> that pertain to the
            <span class="emphasis"><em>subject</em></span> specifically (i.e. options regarding
            utilization or errors for example) it makes the most sense to use
            this particular namespace.  The most general case is accepted, 
            and used by many services however.  
          </p><p>
            The <span class="emphasis"><em>id</em></span> attribute is required on this element.
            There may be any number of nested 
            <a href="#configuration_store_metadata_parameter">Parameter</a> 
            elements, although there should always be at least one, otherwise
            this element would not be necessary.  We do not make a strict 
            <span class="emphasis"><em>requirement</em></span> that it be present, although for
            backwards compatibility reasons the 
            <span class="emphasis"><em>supportedEventType</em></span> is always necessary.
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_parameter"></a>4.3.1.5. Parameter</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwg:parameter name="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                STRING or ANY
              &lt;/nmwg:parameter&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - name, value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text, Any</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - flexible</p></li></ul></div><p>
            The <span><strong class="command">parameter</strong></span> element serves as a wrapper around
            name/value pairs.  The normal use case is an attribute called 
            <span class="emphasis"><em>name</em></span>, and then an accompanying attribute called
            <span class="emphasis"><em>value</em></span>, or alternatively a text or other complex
            element.  The namespace of <span class="emphasis"><em>parameter</em></span> 
            <span><strong class="command">should</strong></span> always be the base, although future
            iterations may change this.  
          </p><p>
            The <span class="emphasis"><em>name</em></span> is always required, and the 
            <span class="emphasis"><em>value</em></span> attribute is optional when a text or
            complex element is used in it's place.  If the
            <span class="emphasis"><em>parameters</em></span> element is present, there 
            <span><strong class="command">must</strong></span> always be at least one 
            <span class="emphasis"><em>parameter</em></span> to accompany it.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_interface"></a>4.3.1.6. Interface</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:interface xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                &lt;nmwgt:ifAddress type="ipv4"&gt;STRING&lt;/nmwgt:ifAddress&gt;
                &lt;nmwgt:hostName&gt;STRING&lt;/nmwgt:hostName&gt;
                &lt;nmwgt:ifName&gt;STRING&lt;/nmwgt:ifName&gt;
                &lt;nmwgt:ifIndex&gt;(LONG) INTEGER&lt;/nmwgt:ifIndex&gt;
                &lt;nmwgt:direction&gt;STRING&lt;/nmwgt:direction&gt;
                &lt;nmwgt:capacity&gt;(LONG) INTEGER&lt;/nmwgt:capacity&gt;
                &lt;nmwgt:ifDescription&gt;STRING&lt;/nmwgt:ifDescription&gt;
                &lt;nmwgt:description&gt;STRING&lt;/nmwgt:description&gt;
                &lt;nmwgt:authRealm&gt;STRING&lt;/nmwgt:authRealm&gt;
              &lt;/nmwgt:interface&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - interface</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - ifAddress, hostName, ifName, ifIndex, direction, capacity, ifDescription, description, authRealm</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span><strong class="command">interface</strong></span> element represents the entity being 
            measured, in this case the physical interface connecting network
            capable devices as seen through the lens of SNMP.  This element is 
            a <span class="emphasis"><em>container</em></span> for other more descriptive elements, 
            and may contain many elements as enumerated above.  There are no
            attributes required for this element.  The namespace we are interested
            in is <span class="emphasis"><em>version 2</em></span> of the NMWG topology schema.  
            Future service releases can support other topology extensions.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_ifAddress"></a>4.3.1.7. IfAddress</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:ifAddress type="(ipv4 | ipv6 | hostname)" xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                STRING
              &lt;/nmwgt:ifAddress&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - ifAddress</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - type, value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            This required element represents the contact address of a particular
            interface.  This should be viewed as a <span class="emphasis"><em>layer 3</em></span>
            interface due to this fact, despite not being named as such.  The
            only attribute is <span class="emphasis"><em>type</em></span> and it is required;
            this attribute should be <span class="emphasis"><em>ipv4</em></span>,
            <span class="emphasis"><em>ipv6</em></span>, or <span class="emphasis"><em>hostname</em></span> to
            describe the enclosed data.  The optional <span class="emphasis"><em>value</em></span>
            element may be used if a text element is not.  This element should
            always be in the <span class="emphasis"><em>version 2</em></span> topology namespace.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_hostName"></a>4.3.1.8. HostName</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:hostName xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                STRING
              &lt;/nmwgt:hostName&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - hostName</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
            The <span class="emphasis"><em>hostName</em></span> element is used to specify a
            hostname for an interface (if applicable).  This is an optional 
            element that has no attributes, and can only contain text.  This
            element should always be in the <span class="emphasis"><em>version 2</em></span>
            topology namespace.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_ifName"></a>4.3.1.9. IfName</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:ifName xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                STRING
              &lt;/nmwgt:ifName&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - ifName</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span class="emphasis"><em>ifName</em></span> element is used to specify a name 
            for the interface (if applicable).  This element is required,
            has no attributes, and can only contain text.  This element should 
            always be in the <span class="emphasis"><em>version 2</em></span> topology namespace.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_ifIndex"></a>4.3.1.10. IfIndex</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:ifIndex xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                (LONG) INTEGER
              &lt;/nmwgt:ifIndex&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - ifIndex</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
            The <span class="emphasis"><em>ifIndex</em></span> element is used to specify the
            index value this interface holds within the SNMP systems.  This is
            an optional element that has no attributes, and can only contain
            text.  This element should always be in the 
            <span class="emphasis"><em>version 2</em></span> topology namespace.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_direction"></a>4.3.1.11. Direction</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:direction xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                STRING
              &lt;/nmwgt:direction&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - direction</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span class="emphasis"><em>direction</em></span> element is used to specify the
            direction data is traveling on an interface (relative to the 
            collection).  This element is required, has no attributes, and 
            can only contain text.  This element should always be in the 
            <span class="emphasis"><em>version 2</em></span> topology namespace.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_capacity"></a>4.3.1.12. Capacity</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:capacity xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                (LONG) INTEGER
              &lt;/nmwgt:capacity&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - capacity</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
            The <span class="emphasis"><em>capacity</em></span> element is used to specify the maximum
            amount of information that can flow through the interface (theoretically) for
            a unit of time.  The interpretation of this value is usually left up to the 
            service deployer, but commonly this number is reported in bps.  This is an 
            optional element that has no attributes, and can only contain text.  
            This element should always be in the <span class="emphasis"><em>version 2</em></span>
            topology namespace.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_ifDescription"></a>4.3.1.13. IfDescription and Description</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:ifDescription xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                STRING
              &lt;/nmwgt:ifDescription&gt;
              &lt;nmwgt:description xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                STRING
              &lt;/nmwgt:description&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - ifDescription/description</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
            The <span class="emphasis"><em>ifDescription</em></span> and <span class="emphasis"><em>description</em></span> 
            elements are used to textually describe the nature of the interface.  Due
            to some early confusion as to the exact name, both names do the same purpose
            and are acceptable for use in the system.  Legacy clients may recognize either, 
            so if possible use both in your descriptions.  These are optional elements 
            that have no attributes, and can only contain text.  These elements should 
            always be in the <span class="emphasis"><em>version 2</em></span> topology namespace.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_metadata_authRealm"></a>4.3.1.14. AuthRealm</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwgt:authRealm xmlns:nmwgt="http://ggf.org/ns/nmwg/topology/2.0/"&gt;
                STRING
              &lt;/nmwgt:authRealm&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - authRealm</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/topology/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
            The <span class="emphasis"><em>authRealm</em></span> element is a depreciated element 
            that was used as a placeholder for security considerations.  Due to 
            advances in the security of <span class="emphasis"><em>perfSONAR</em></span>, it is 
            not used much anymore.  Legacy deployments of both services and
            clients may still rely on this element.  This is an optional
            element that has no attributes, and can only contain text.  This
            element should always be in the <span class="emphasis"><em>version 2</em></span> 
            topology namespace.  
          </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="configuration_store_data"></a>4.3.2. Data Structure</h4></div></div></div><p>
          The following description represents a <span class="emphasis"><em>complete</em></span>
          markup of the possible elements that may be used in describing the 
          backend storage of data for the <span class="emphasis"><em>SNMP MA</em></span> service.
          This service is designed with only one specific backend for now, 
          RRD files, but the general abstraction provided by the XML will
          allow the description of any backend in time.  The XML is completely
          annotated with values, namespaces, and related prefixes.  We will
          examine each of these items in turn.
        </p><pre class="programlisting">
                 
            &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                       id="d-in-netutil-1" metadataIdRef="m-in-netutil-1"&gt;
              &lt;nmwg:key id="k-in-netutil-1"&gt;
                &lt;nmwg:parameters id="pk-in-netutil-1"&gt;
                  &lt;nmwg:parameter name="supportedEventType"&gt;
                    http://ggf.org/ns/nmwg/tools/snmp/2.0
                  &lt;/nmwg:parameter&gt;
                  &lt;nmwg:parameter name="supportedEventType"&gt;
                    http://ggf.org/ns/nmwg/characteristic/utilization/2.0
                  &lt;/nmwg:parameter&gt;
                  &lt;nmwg:parameter name="type"&gt;rrd&lt;/nmwg:parameter&gt;
                  &lt;nmwg:parameter name="file"&gt;./localhost.rrd&lt;/nmwg:parameter&gt;
                  &lt;nmwg:parameter name="valueUnits"&gt;Bps&lt;/nmwg:parameter&gt;
                  &lt;nmwg:parameter name="dataSource"&gt;ifinoctets&lt;/nmwg:parameter&gt;
                &lt;/nmwg:parameters&gt;
              &lt;/nmwg:key&gt;
            &lt;/nmwg:data&gt;        
          
        </pre><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_data_data"></a>4.3.2.1. Data</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                         id="STRING" metadataIdRef="STRING"&gt;
 
                &lt;nmwg:key id="STRING" /&gt;
 
              &lt;/nmwg:data&gt;  
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span><strong class="command">data</strong></span> element encloses a <span><strong class="command">key</strong></span> 
            structure that is used to describe the representative backend storage.  
            The namespace of this object is always the same and the object 
            <span><strong class="command">is</strong></span> required.
          </p><p>
            The <a href="#configuration_store_data_key">Key</a> elements is required 
            for this element.  The <span class="emphasis"><em>id</em></span> and 
            <span class="emphasis"><em>metadataIdRef</em></span> attributes are also required to preserve
            the relationship between <span><strong class="command">metadata</strong></span> and 
            <span><strong class="command">data</strong></span> items.  
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_data_key"></a>4.3.2.2. Key</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwg:key xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                        id="STRING"&gt;
                        
                &lt;nmwg:parameters id="STRING" /&gt;

              &lt;/nmwg:key&gt; 
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - key</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span><strong class="command">key</strong></span> element encloses a <span><strong class="command">parameters</strong></span> 
            structure that is used to describe the representative backend storage.  
            The key does not serve an explicit purpose other than to offer a container for
            the additional <span class="emphasis"><em>parameters</em></span>.  The namespace of this 
            object is always the same and the object <span><strong class="command">is</strong></span> required.
          </p><p>
            The <a href="#configuration_store_data_parameters">Parameters</a> elements and 
            <span class="emphasis"><em>id</em></span> attribute are also required for this element.
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_data_parameters"></a>4.3.2.3. Parameters</h5></div></div></div><pre class="programlisting">
            
              &lt;nmwg:parameters id="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                               
                &lt;nmwg:parameter name="STRING"&gt;STRING&lt;/nmwg:parameter&gt;

              &lt;/nmwg:parameters&gt;
            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span><strong class="command">parameters</strong></span> element encloses a series of 
            <span><strong class="command">parameter</strong></span> structures that are used to describe 
            the representative backend storage.  The namespace of this object 
            is always the same (unlike previous uses) and the object 
            <span><strong class="command">is</strong></span> required.
          </p><p>
            The <a href="#configuration_store_data_parameter">Parameter</a> elements and 
            <span class="emphasis"><em>id</em></span> attribute are also required for this element.
          </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_store_data_parameter"></a>4.3.2.4. Parameter</h5></div></div></div><pre class="programlisting">
            

              &lt;nmwg:parameter name="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                STRING
              &lt;/nmwg:parameter&gt;

            
          </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - name, value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
            The <span><strong class="command">parameter</strong></span> element is meant to describe
            a physical aspect of the data storage in terms of both name
            and value.  The value can be an attribute (appropriately named
            <span class="emphasis"><em>value</em></span>) or in the form of a text element.  
          </p><p>
            There are several recognized values for the <span class="emphasis"><em>name</em></span> 
            attribute, they are enumerated as follows.
          </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>supportedEventType - Same use as in the metadata.  Use this
              to signify what datatype exists for this particular data store, can
              be used many times.</p></li><li style="list-style-type: circle"><p>type - for now always <span class="emphasis"><em>rrd</em></span>, may also
              be used for other items such as <span class="emphasis"><em>sql</em></span> or 
              <span class="emphasis"><em>csv</em></span>.</p></li><li style="list-style-type: circle"><p>file - path to the file.</p></li><li style="list-style-type: circle"><p>valueUnits - units of the data stored in the file.</p></li><li style="list-style-type: circle"><p>dataSource - variable name of data in the file (used for
              query access).</p></li></ul></div><p>
            The <span class="emphasis"><em>name</em></span> attribute is required for this element, 
            the <span class="emphasis"><em>value</em></span> attribute is an option instead of using
            a text element.  The namespace should always be the base.  
          </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="configuration_schema"></a>4.3.3. XML Schema Definitions</h4></div></div></div><p>
          An XML <a href="#schema">schema</a> is typically used to describe 
          the structure and internal content of a given XML instance.  This 
          description can sometimes be expressed in XML itself.  This 
          abstract is generally created to allow programmatic validation of 
          XML instances and to protect a service from receiving a poorly 
          constructed message.  
        </p><p>
          Two schema definitions are presented here, the first being the native
          form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
          [<a href="#id2534901" title="[RELAX-NG]"><abbr class="abbrev">RELAX-NG</abbr></a>] language and the second being a derived
          version written in <a href="#id2534917">XSD</a>.
        </p><p>
          The following schema fragments validate the
          <span class="emphasis"><em>store.xml</em></span> file, note that these are self
          contained fragments that should be viewed more as a useful supplement
          instead of functional code.  Those interested in a complete schema
          overview should consult the <span class="emphasis"><em>perfSONAR</em></span> and
          <span class="emphasis"><em>NMWG</em></span> subversion repositories.  
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_schema_relax"></a>4.3.3.1. RELAX-NG</h5></div></div></div><p>
            <span class="emphasis"><em>NM-WG</em></span> schemata is always expressed in terms of
            the RELAX-NG schema language.  This tool, unlike similar XML schema 
            languages, does not utilize XML markup.  The syntax is similar 
            to that of a regular language, and allows for a rather compact 
            description.  Note that this <span><strong class="command">will</strong></span> only validate
            <span class="emphasis"><em>store.xml</em></span> files used for this service.  Other
            schemas can be found in [<a href="#id2534968" title="[NMWG-Schema]"><abbr class="abbrev">NMWG-Schema</abbr></a>].
          </p><pre class="programlisting">
          
            namespace nmwg = "http://ggf.org/ns/nmwg/base/2.0/"
            namespace netutil = "http://ggf.org/ns/nmwg/characteristic/utilization/2.0/"
            namespace neterr = "http://ggf.org/ns/nmwg/characteristic/errors/2.0/"
            namespace netdisc = "http://ggf.org/ns/nmwg/characteristic/discards/2.0/"
            namespace snmp = "http://ggf.org/ns/nmwg/tools/snmp/2.0/"
            namespace nmwgtopo = "http://ggf.org/ns/nmwg/topology/2.0/"

            start =
              element nmwg:store {
                Identifier? &amp; 
                attribute type { xsd:string }? &amp;                     
                (
                  element nmwg:metadata {
                    Identifier &amp;
                    MetadataIdentifierRef? &amp;
                    Subject &amp;
                    EventType+ &amp;
                    MParameters    
                  } |
                  element nmwg:data {
                    Identifier &amp;
                    MetadataIdentifierRef &amp;
                    element nmwg:key {
                      Identifier &amp;
                      DParameters
                    }  
                  }
                )+    
              }

            EventType =
              element nmwg:eventType { xsd:string } 

            MParameters = 
              (
                element nmwg:parameters {
                  ParametersContent
                } |
                element snmp:parameters {
                  ParametersContent
                } |
                element netutil:parameters {
                  ParametersContent
                } |
                element netdisc:parameters {
                  ParametersContent
                } |
                element neterr:parameters {
                  ParametersContent
                }
              )

            ParametersContent = 
              Identifier &amp;  
              element nmwg:parameter { 
                attribute name { xsd:string } &amp;
                (
                  attribute value { xsd:string } |
                  text
                )
              }+  
  
            Subject = 
              (
                element nmwg:subject {
                  SubjectContent
                } |
                element snmp:subject {
                  SubjectContent
                } |
                element netutil:subject {
                  SubjectContent
                } |
                element netdisc:subject {
                  SubjectContent
                } |
                element neterr:subject {
                  SubjectContent
                }
              )
  
            SubjectContent = 
              Identifier &amp;
              Interface  

            Interface = 
              element nmwgtopo:interface {
                element nmwgtopo:ipAddress {
                  Address
                }? &amp;
                element nmwgtopo:ifAddress {
                  Address
                }? &amp;
                element nmwgtopo:hostName { xsd:string }? &amp;  
                element nmwgtopo:ifName { xsd:string }? &amp;
                element nmwgtopo:ifDescription { xsd:string }? &amp;
                element nmwgtopo:description { xsd:string }? &amp;
                element nmwgtopo:ifHostName { xsd:string }? &amp;
                element nmwgtopo:ifIndex { xsd:string }? &amp;
                element nmwgtopo:type { xsd:string }? &amp;
                element nmwgtopo:direction { xsd:string }? &amp;
                element nmwgtopo:authRealm { xsd:string }? &amp;
                element nmwgtopo:capacity { xsd:string }?
              }

            Address = 
              (
                attribute value { xsd:string } |
                text
              ) &amp;
              attribute type { xsd:string }

            DParameters = 
              element nmwg:parameters {
                ParametersContent
              }

            Identifier =
              attribute id { xsd:string }
  
            MetadataIdentifierRef =
              attribute metadataIdRef { xsd:string }
          
          </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="configuration_schema_xsd"></a>4.3.3.2. XSD</h5></div></div></div><p>
            This particular description was produced using tools such as 
            [<span class="citation">MSV</span>] and [<span class="citation">Trang</span>] to 
            programatically convert between schema languages.  XSD is a more
            widely accepted schema format for validation, thus we present
            this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
          </p><pre class="programlisting">
          
            &lt;?xml version="1.0" encoding="UTF-8"?&gt;
            &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" xmlns:nmwgtopo="http://ggf.org/ns/nmwg/topology/2.0/" xmlns:netdisc="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" xmlns:snmp="http://ggf.org/ns/nmwg/tools/snmp/2.0/" xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" schemaLocation="netdisc.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" schemaLocation="neterr.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" schemaLocation="netutil.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/snmp/2.0/" schemaLocation="snmp.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/topology/2.0/" schemaLocation="nmwgtopo.xsd"/&gt;
              &lt;xs:element name="store"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:choice maxOccurs="unbounded"&gt;
                    &lt;xs:element ref="nmwg:metadata"/&gt;
                    &lt;xs:element ref="nmwg:data"/&gt;
                  &lt;/xs:choice&gt;
                  &lt;xs:attribute name="id" type="xs:string"/&gt;
                  &lt;xs:attribute name="type" type="xs:string"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="metadata"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
                    &lt;xs:element ref="nmwg:Subject"/&gt;
                    &lt;xs:element ref="nmwg:eventType"/&gt;
                    &lt;xs:element ref="nmwg:MParameters"/&gt;
                  &lt;/xs:choice&gt;
                  &lt;xs:attributeGroup ref="nmwg:Identifier"/&gt;
                  &lt;xs:attribute name="metadataIdRef" type="xs:string"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="data"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:sequence&gt;
                    &lt;xs:element ref="nmwg:key"/&gt;
                  &lt;/xs:sequence&gt;
                  &lt;xs:attributeGroup ref="nmwg:Identifier"/&gt;
                  &lt;xs:attributeGroup ref="nmwg:MetadataIdentifierRef"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="key"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:complexContent&gt;
                    &lt;xs:extension base="nmwg:DParameters"&gt;
                      &lt;xs:attributeGroup ref="nmwg:Identifier"/&gt;
                    &lt;/xs:extension&gt;
                  &lt;/xs:complexContent&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="eventType" type="xs:string"/&gt;
              &lt;xs:element name="MParameters" abstract="true" type="nmwg:ParametersContent"/&gt;
              &lt;xs:element name="parameters" substitutionGroup="nmwg:MParameters"/&gt;
              &lt;xs:complexType name="ParametersContent"&gt;
                &lt;xs:sequence&gt;
                  &lt;xs:element maxOccurs="unbounded" ref="nmwg:parameter"/&gt;
                &lt;/xs:sequence&gt;
                &lt;xs:attributeGroup ref="nmwg:Identifier"/&gt;
              &lt;/xs:complexType&gt;
              &lt;xs:element name="parameter"&gt;
                &lt;xs:complexType mixed="true"&gt;
                  &lt;xs:attribute name="name" use="required" type="xs:string"/&gt;
                  &lt;xs:attribute name="value" type="xs:string"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="Subject" abstract="true" type="nmwg:SubjectContent"/&gt;
              &lt;xs:element name="subject" substitutionGroup="nmwg:Subject"/&gt;
              &lt;xs:element name="SubjectContent" abstract="true"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:all&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:ipAddress"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:ifAddress"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:hostName"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:ifName"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:ifDescription"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:description"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:ifHostName"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:ifIndex"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:type"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:direction"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:authRealm"/&gt;
                    &lt;xs:element minOccurs="0" ref="nmwgtopo:capacity"/&gt;
                  &lt;/xs:all&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:complexType name="SubjectContent"&gt;
                &lt;xs:sequence&gt;
                  &lt;xs:element ref="nmwg:SubjectContent"/&gt;
                &lt;/xs:sequence&gt;
                &lt;xs:attributeGroup ref="nmwg:Identifier"/&gt;
              &lt;/xs:complexType&gt;
              &lt;xs:complexType name="Interface"&gt;
                &lt;xs:sequence&gt;
                  &lt;xs:element ref="nmwgtopo:interface"/&gt;
                &lt;/xs:sequence&gt;
              &lt;/xs:complexType&gt;
              &lt;xs:attributeGroup name="Address"&gt;
                &lt;xs:attribute name="value" type="xs:string"/&gt;
                &lt;xs:attribute name="type" use="required" type="xs:string"/&gt;
              &lt;/xs:attributeGroup&gt;
              &lt;xs:complexType name="DParameters"&gt;
                &lt;xs:sequence&gt;
                  &lt;xs:element ref="nmwg:parameters"/&gt;
                &lt;/xs:sequence&gt;
              &lt;/xs:complexType&gt;
              &lt;xs:attributeGroup name="Identifier"&gt;
                &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
              &lt;/xs:attributeGroup&gt;
              &lt;xs:attributeGroup name="MetadataIdentifierRef"&gt;
                &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
              &lt;/xs:attributeGroup&gt;
            &lt;/xs:schema&gt;
          
          </pre><p>
            <span><strong class="command">netdisc.xsd</strong></span>
          </p><pre class="programlisting">
                                
            &lt;?xml version="1.0" encoding="UTF-8"?&gt;
            &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" xmlns:nmwgtopo="http://ggf.org/ns/nmwg/topology/2.0/" xmlns:netdisc="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" xmlns:snmp="http://ggf.org/ns/nmwg/tools/snmp/2.0/" xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="store.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" schemaLocation="neterr.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" schemaLocation="netutil.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/snmp/2.0/" schemaLocation="snmp.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/topology/2.0/" schemaLocation="nmwgtopo.xsd"/&gt;
              &lt;xs:element name="parameters" substitutionGroup="nmwg:MParameters"/&gt;
              &lt;xs:element name="subject" substitutionGroup="nmwg:Subject"/&gt;
            &lt;/xs:schema&gt;
          
          </pre><p>
            <span><strong class="command">neterr.xsd</strong></span>
          </p><pre class="programlisting">
             
            &lt;?xml version="1.0" encoding="UTF-8"?&gt;
            &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" xmlns:nmwgtopo="http://ggf.org/ns/nmwg/topology/2.0/" xmlns:netdisc="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" xmlns:snmp="http://ggf.org/ns/nmwg/tools/snmp/2.0/" xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="store.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" schemaLocation="netdisc.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" schemaLocation="netutil.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/snmp/2.0/" schemaLocation="snmp.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/topology/2.0/" schemaLocation="nmwgtopo.xsd"/&gt;
              &lt;xs:element name="parameters" substitutionGroup="nmwg:MParameters"/&gt;
              &lt;xs:element name="subject" substitutionGroup="nmwg:Subject"/&gt;
            &lt;/xs:schema&gt;
          
          </pre><p>
            <span><strong class="command">netutil.xsd</strong></span>
          </p><pre class="programlisting">
             
            &lt;?xml version="1.0" encoding="UTF-8"?&gt;
            &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" xmlns:nmwgtopo="http://ggf.org/ns/nmwg/topology/2.0/" xmlns:netdisc="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" xmlns:snmp="http://ggf.org/ns/nmwg/tools/snmp/2.0/" xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="store.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" schemaLocation="netdisc.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" schemaLocation="neterr.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/snmp/2.0/" schemaLocation="snmp.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/topology/2.0/" schemaLocation="nmwgtopo.xsd"/&gt;
              &lt;xs:element name="parameters" substitutionGroup="nmwg:MParameters"/&gt;
              &lt;xs:element name="subject" substitutionGroup="nmwg:Subject"/&gt;
            &lt;/xs:schema&gt;
          
          </pre><p>
            <span><strong class="command">snmp.xsd</strong></span>
          </p><pre class="programlisting">
             
            &lt;?xml version="1.0" encoding="UTF-8"?&gt;
            &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://ggf.org/ns/nmwg/tools/snmp/2.0/" xmlns:nmwgtopo="http://ggf.org/ns/nmwg/topology/2.0/" xmlns:netdisc="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" xmlns:snmp="http://ggf.org/ns/nmwg/tools/snmp/2.0/" xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="store.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" schemaLocation="netdisc.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" schemaLocation="neterr.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" schemaLocation="netutil.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/topology/2.0/" schemaLocation="nmwgtopo.xsd"/&gt;
              &lt;xs:element name="parameters" substitutionGroup="nmwg:MParameters"/&gt;
              &lt;xs:element name="subject" substitutionGroup="nmwg:Subject"/&gt;
            &lt;/xs:schema&gt;
          
          </pre><p>
            <span><strong class="command">nmwgtopo.xsd</strong></span>
          </p><pre class="programlisting">
             
            &lt;?xml version="1.0" encoding="UTF-8"?&gt;
            &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://ggf.org/ns/nmwg/topology/2.0/" xmlns:nmwgtopo="http://ggf.org/ns/nmwg/topology/2.0/" xmlns:netdisc="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" xmlns:neterr="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" xmlns:snmp="http://ggf.org/ns/nmwg/tools/snmp/2.0/" xmlns:netutil="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="store.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/discards/2.0/" schemaLocation="netdisc.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/errors/2.0/" schemaLocation="neterr.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/characteristic/utilization/2.0/" schemaLocation="netutil.xsd"/&gt;
              &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/snmp/2.0/" schemaLocation="snmp.xsd"/&gt;
              &lt;xs:element name="interface" substitutionGroup="nmwg:SubjectContent"/&gt;
              &lt;xs:element name="ipAddress"&gt;
                &lt;xs:complexType mixed="true"&gt;
                  &lt;xs:attributeGroup ref="nmwg:Address"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="ifAddress"&gt;
                &lt;xs:complexType mixed="true"&gt;
                  &lt;xs:attributeGroup ref="nmwg:Address"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="hostName" type="xs:string"/&gt;
              &lt;xs:element name="ifName" type="xs:string"/&gt;
              &lt;xs:element name="ifDescription" type="xs:string"/&gt;
              &lt;xs:element name="description" type="xs:string"/&gt;
              &lt;xs:element name="ifHostName" type="xs:string"/&gt;
              &lt;xs:element name="ifIndex" type="xs:string"/&gt;
              &lt;xs:element name="type" type="xs:string"/&gt;
              &lt;xs:element name="direction" type="xs:string"/&gt;
              &lt;xs:element name="authRealm" type="xs:string"/&gt;
              &lt;xs:element name="capacity" type="xs:string"/&gt;
            &lt;/xs:schema&gt;
          
          </pre></div></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="functional"></a>5. Functional Specification</h2></div></div></div><p>
      This section focuses on the functionalities offered by the
      <span class="emphasis"><em>SNMP MA</em></span>, namely in response to external requests in
      the form of messages but also for periodic events the service performs.
      The following sections will discuss the broad concepts as well as the
      potential causes, and outcomes that may occur for each.  Note that this
      description does not focus on the actions of particular functions in the
      source code, but favors an expanded view at individual actions.  
    </p><p>
      This section should be compared with that of the
      <a href="#interface">Interface Specification</a> which describes the service as a black box
      capable of receiving and responding two external output.  The messages
      and their respective outcomes will be described there in greater detail.
    </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="functional_key"></a>5.1. Key Retrieval</h3></div></div></div><p>
        The <span class="emphasis"><em>SNMP MA</em></span> relies on XML descriptions in the 
        <span class="emphasis"><em>store.xml</em></span> file to map <span class="emphasis"><em>metadata</em></span>
        to the corresponding <span class="emphasis"><em>data</em></span>.  The store file itself
        manages this mapping in the form of a <span class="emphasis"><em>key</em></span> elements
        that are stored in <span class="emphasis"><em>data</em></span> elements (see 
        <a href="#configuration_store_data_key">Key</a>).  
      </p><p>
        The <span class="emphasis"><em>SNMP MA</em></span> allows messages containing a partial or
        full metadata description to be provided when attempting to initially 
        retrieve this <span class="emphasis"><em>key</em></span>.  For now the key is returned 
        verbatim from the storage medium and may be replayed continuously back
        to the service.  This general behavior of the key however is geared more
        towards that of a limited life cookie or passphrase that enforces a
        time/place/user restriction to limit resources.
      </p><p>
        Once retrieved the <span class="emphasis"><em>key</em></span> may then be used to
        retrieve data (see <a href="#functional_data">Data Retrieval</a>), or may be
        used to retrieve the <span class="emphasis"><em>key</em></span> again (in the event
        of <span class="emphasis"><em>timeout</em></span>, or to <span class="emphasis"><em>cook</em></span>
        additional items into the key such as time ranges).  
        <span class="emphasis"><em>Key</em></span> elements should be used only with the
        service that has issued them.
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_key_success"></a>5.1.1. Success</h4></div></div></div><p>
          Success for this operation is defined as receiving a 
          <span class="emphasis"><em>key</em></span> back when given a well formatted 
          <span class="emphasis"><em>message</em></span> that triggers a match between submitted
          <span class="emphasis"><em>metadata</em></span> and stored
          <span class="emphasis"><em>metadata</em></span>.  
        </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_key_failure"></a>5.1.2. Failure</h4></div></div></div><p>
          Failure for this operation is defined as receiving an error message
          from the service indication that one of these conditions may be true: 
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              The message was improperly formatted.
            </p></li><li style="list-style-type: circle"><p>
              The backend storage is improperly configured.
            </p></li><li style="list-style-type: circle"><p>
              The service does not participate in this sort of exchange.
            </p></li><li style="list-style-type: circle"><p>
              There is nothing matching your query.
            </p></li><li style="list-style-type: circle"><p>
              Resource limitations prevent the service from returning the
              results of the query.
            </p></li><li style="list-style-type: circle"><p>
              Internal service or system errors may have occurred.
            </p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_key_messages"></a>5.1.3. Messages</h4></div></div></div><p>
          There are only two messages that can initiate a 
          <span class="emphasis"><em>key</em></span> exchange, although it
          is possible for many messages to use keys in general.  
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              MetadataKeyRequest
            </p></li><li style="list-style-type: circle"><p>
              MetadataKeyResponse
            </p></li></ul></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="functional_data"></a>5.2. Data Retrieval</h3></div></div></div><p>
        Similar to the situation discussed in <a href="#functional_key">Key Retrieval</a>,
        the service will be posed a query consisting of a partial or full
        <span class="emphasis"><em>metadata</em></span> element (potentially an already 
        retrieved <span class="emphasis"><em>key</em></span>) and should return data from the
        backend storage that is related to this initial
        <span class="emphasis"><em>request</em></span>.
      </p><p>
        The query may involve numerous transformation and filtering steps to
        otherwise manipulate the data (see also <a href="#chaining">chaining</a>)
        and the results must be representative of this.  
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_data_success"></a>5.2.1. Success</h4></div></div></div><p>
           Success involves a match to the submitted key or metadata
           fragment that will locate, query, and return data from the 
           appropriate backend storage medium (in our case 
           <span class="emphasis"><em>RRD</em></span> files).  If a filter was applied, the
           data should reflect the filtering steps performed.
        </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_data_failure"></a>5.2.2. Failure</h4></div></div></div><p>
          Failure for this operation is defined as receiving an error message
          from the service indication that one of these conditions may be true: 
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              The message was improperly formatted.
            </p></li><li style="list-style-type: circle"><p>
              The backend storage (<span class="emphasis"><em>data</em></span> or 
              <span class="emphasis"><em>metadata</em></span>) is improperly configured.
            </p></li><li style="list-style-type: circle"><p>
              The service does not participate in this sort of exchange.
            </p></li><li style="list-style-type: circle"><p>
              There is nothing matching your query or key.
            </p></li><li style="list-style-type: circle"><p>
              Resource limitations prevent the service from returning the
              results of the query.
            </p></li><li style="list-style-type: circle"><p>
              Internal service or system errors may have occurred.
            </p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_data_messages"></a>5.2.3. Messages</h4></div></div></div><p>
          There are only two messages that can initiate a 
          <span class="emphasis"><em>data</em></span> exchange.  
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              SetupDataRequest
            </p></li><li style="list-style-type: circle"><p>
              SetupDataResponse
            </p></li></ul></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="functional_echo"></a>5.3. Echo Service</h3></div></div></div><p>
        The <span class="emphasis"><em>Echo Protocol</em></span> is a very simple 
        <span class="emphasis"><em>request</em></span> and <span class="emphasis"><em>response</em></span>
        exchange that is meant to allow any service to check on the
        availability of some other service.  This available can be simple
        (i.e. checking for responsiveness) or it may be more complex (i.e.
        testing database connectivity).  
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_echo_success"></a>5.3.1. Success</h4></div></div></div><p>
          A successful <span class="emphasis"><em>Echo</em></span> exchange involves reading the
          <span class="emphasis"><em>response</em></span> message for a given
          <span class="emphasis"><em>request</em></span> and being able to interpret the result
          code as being successful.  See the <span class="emphasis"><em>Echo Protocol</em></span>
          document for hints on what is considered a success.
        </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_echo_failure"></a>5.3.2. Failure</h4></div></div></div><p>
          Failure for this operation is defined as receiving an error message
          from the service indication that one of these conditions may be true: 
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              The message was improperly formatted.
            </p></li><li style="list-style-type: circle"><p>
              The service does not participate in this sort of exchange.
            </p></li><li style="list-style-type: circle"><p>
              Internal service or system errors may have occurred.
            </p></li><li style="list-style-type: circle"><p>
              The service is down, or otherwise unreachable.
            </p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_echo_messages"></a>5.3.3. Messages</h4></div></div></div><p>
           There is only one exchange that is available for, that has a single
           request and response format.
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              EchoRequest
            </p></li><li style="list-style-type: circle"><p>
              EchoResponse
            </p></li></ul></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="functional_ls"></a>5.4. Lookup Service Interaction</h3></div></div></div><p>
        The <span><strong class="command">Lookup Service</strong></span> is a
        <span class="emphasis"><em>perfSONAR</em></span> infrastructure service that allows
        for the registration of local data sets in an effort to draw away the
        sometimes time consuming queries for data made by client applications as
        well as related services.  The <span><strong class="command">LS</strong></span> relies on 
        services to have knowledge of it's existence, and then accepts messages
        they initiate to insert, delete, and otherwise maintain records of
        the time sensitive data sets.
      </p><p>
        The <span class="emphasis"><em>SNMP MA</em></span> is able to interact with the
        <span><strong class="command">LS</strong></span> in three major ways: 
        <span class="emphasis"><em>Registering</em></span> information, 
        <span class="emphasis"><em>Deregistering</em></span> information, and 
        <span class="emphasis"><em>Keeping Alive</em></span> already registered information.  All
        of these interactions rely on the service's backend configuration as the
        underlying data store, and some self knowledge of the service itself
        to form an identity.  
      </p><p>
        All transactions must involve two major parts to a message: service
        identification information (in the form of a
        <span class="emphasis"><em>service</em></span> description or an <span><strong class="command">LS</strong></span>
        issued <span class="emphasis"><em>key</em></span>) and data (in the native form from
        the <span><strong class="command">store.xml</strong></span> file or an <span><strong class="command">LS</strong></span>
        issued <span class="emphasis"><em>key</em></span>).  
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_ls_success"></a>5.4.1. Success</h4></div></div></div><p>
          Success for interacting with the <span><strong class="command">LS</strong></span> involves
          interpreting the result codes that are returned in each
          <span class="emphasis"><em>response</em></span> message for the triggering 
          <span class="emphasis"><em>request</em></span>.  If a non-successful error code is
          seen the <span class="emphasis"><em>SNMP MA</em></span> must be nimble enough to 
          interpret the result and take the appropriate action.
        </p><p>
          Successful results that are returned for any of the operations
          indicate that the internal state of the <span><strong class="command">LS</strong></span>
          has been updated to reflect the reality of the
          <span class="emphasis"><em>SNMP MA</em></span>.
        </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_ls_failure"></a>5.4.2. Failure</h4></div></div></div><p>
          Failure for this operation is defined as receiving an error message
          from the service indication that one of these conditions may be true: 
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              The message was improperly formatted.
            </p></li><li style="list-style-type: circle"><p>
              The backend storage is improperly configured.
            </p></li><li style="list-style-type: circle"><p>
              The contacted <span><strong class="command">LS</strong></span> does not participate in this
              sort of exchange (or may be beyond your permissions to use).  
            </p></li><li style="list-style-type: circle"><p>
              There is nothing matching a particular query.
            </p></li><li style="list-style-type: circle"><p>
              Internal service or system errors may have occurred.
            </p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="functional_ls_messages"></a>5.4.3. Messages</h4></div></div></div><p>
          There are three major message types that are possible when
          interacting with the <span><strong class="command">LS</strong></span>, each with the 
          appropriate <span class="emphasis"><em>request</em></span>/<span class="emphasis"><em>response</em></span>
          pair.
        </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>
              LSRegistrationRequest
            </p></li><li style="list-style-type: circle"><p>
              LSRegistrationResponse
            </p></li><li style="list-style-type: circle"><p>
              LSDeregistrationRequest
            </p></li><li style="list-style-type: circle"><p>
              LSDeregistrationResponse
            </p></li><li style="list-style-type: circle"><p>
              LSKeepaliveRequest
            </p></li><li style="list-style-type: circle"><p>
              LSKeepalivResponse
            </p></li></ul></div></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="interface"></a>6. Interface Specification</h2></div></div></div><p>
      a
    </p></div><div class="glossary"><div class="titlepage"><div><div><h2 class="title"><a id="glossary"></a>Terms</h2></div></div></div><div class="glossdiv"><h3 class="title">A</h3><dl><dt><a id="apt"></a>apt</dt><dd><p>Advanced Packaging Tool, or APT, is a front-end for the 
          package management system used by Debian GNU/Linux and its 
          derivatives.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">C</h3><dl><dt><a id="characteristic"></a>characteristic</dt><dd><p>Taken on the context of networking, these describe the 
          intrinsic properties of a portion of the network that are related 
          to the performance and reliability of the network.  See 
          <a href="http://www.ggf.org/documents/GFD.23.pdf" target="_top">http://www.ggf.org/documents/GFD.23.pdf</a> 
          for more information.</p></dd><dt><a id="chaining"></a>chaining</dt><dd><p>
            The process of linking together elements in the 
            <a href="#NMWG">NM-WG</a> XML specification.
          </p></dd></dl></div><div class="glossdiv"><h3 class="title">D</h3><dl><dt><a id="data"></a>data</dt><dd><p>An <a href="#NMWG">NM-WG</a> <a href="#XML">XML</a> block used 
          to store dynamic information, such as the results of a measurement.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">F</h3><dl><dt><a id="filter_chaining"></a>filter chaining</dt><dd><p>
            Chaining operation that is akin to performing advanced selection or 
            aggregation on a dataset.
          </p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">H</h3><dl><dt><a id="HTTP"></a>HTTP</dt><dd><p>Hypertext Transfer Protocol (HTTP) is a communications protocol 
          used to transfer or convey information on intranets and the World 
          Wide Web.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">M</h3><dl><dt><a id="merge_chaining"></a>merge chaining</dt><dd><p>
            Chaining that combines linked metadata items into a new 
            representation.
          </p></dd><dt><a id="metadata"></a>metadata</dt><dd><p>An <a href="#NMWG">NM-WG</a> <a href="#XML">XML</a> block used 
          to store static information, such as the specific parameters of a 
          measurement.</p></dd></dl></div><div class="glossdiv"><h3 class="title">N</h3><dl><dt><a id="NMWG"></a>NM-WG</dt><dd><p>The performance of most grid applications is dependent on the 
          performance of the networks forming the grid. The Network 
          Measurements Working Group (NMWG) identifies network metrics 
          (aka <a href="#characteristic">characteristics</a>) useful to grid applications 
          and middleware, and develops standard mechanisms to describe and 
          publish these characteristics to the Grid.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">P</h3><dl><dt><a id="perfSONAR"></a>perfSONAR</dt><dd><p>Network performance monitoring framework.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">R</h3><dl><dt><a id="RPM"></a>RPM</dt><dd><p>(originally Red Hat Package Manager, abbreviated RPM) is a 
          package management system. The name RPM refers to two things: a 
          software package file format, and software packaged in this format. 
          RPM was intended primarily for Linux distributions; the file format 
          RPM is the baseline package format of the Linux Standard Base.</p></dd></dl></div><div class="glossdiv"><h3 class="title">S</h3><dl><dt><a id="schema"></a>schema</dt><dd><p>XML specification, normally written in XML.</p></dd><dt><a id="schemata"></a>schemata</dt><dd><p>Plural of schema.</p></dd><dt><a id="snmp"></a>SNMP</dt><dd><p>The Simple Network Management Protocol (SNMP) forms part of 
          the internet protocol suite as defined by the Internet Engineering 
          Task Force (IETF). SNMP is used in network management systems to 
          monitor network-attached devices for conditions that warrant 
          administrative attention.</p></dd><dt><a id="SOAP"></a>SOAP</dt><dd><p>SOAP originally stood for Simple Object Access Protocol, and 
          lately also Service Oriented Architecture Protocol, but is now 
          simply SOAP is a protocol for exchanging XML-based messages over 
          computer networks, normally using <a href="#HTTP">HTTP</a>.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">U</h3><dl><dt><a id="up2date"></a>up2date</dt><dd><p>The Red Hat Update Agent, is a tool used by Red Hat Enterprise 
          Linux, CentOS and early versions of Fedora Core that downloads and 
          installs new software and upgrades to the operating system. </p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">X</h3><dl><dt><a id="XML"></a>XML</dt><dd><p>The Extensible Markup Language (XML) is a general-purpose markup
          language. It is classified as an extensible language because it 
          allows its users to define their own tags. Its primary purpose is 
          to facilitate the sharing of structured data across different 
          information systems, particularly via the Internet.</p></dd></dl></div><div class="glossdiv"><h3 class="title">Y</h3><dl><dt><a id="yum"></a>yum</dt><dd><p>The Yellow dog Updater, Modified (YUM) is a free software/open 
          source command line package management utility for <a href="#RPM">RPM</a>-compatible 
          Linux operating systems. </p></dd></dl></div><div class="glossdiv"><dl></dl></div></div><div class="bibliography"><div class="titlepage"><div><div><h2 class="title"><a id="bibliography"></a>References</h2></div></div></div><div class="biblioentry"><a id="id2534691"></a><p>[<abbr class="abbrev">Perl</abbr>] <span class="title"><i>
        <a href="http://www.perl.org" target="_top">Perl Programing Language</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534707"></a><p>[<abbr class="abbrev">log4perl</abbr>] <span class="title"><i>
        <a href="http://log4perl.sourceforge.net/" target="_top">log4perl</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534723"></a><p>[<abbr class="abbrev">SNMP</abbr>] <span class="title"><i>
        <a href="http://en.wikipedia.org/wiki/Simple_Network_Management_Protocol" target="_top">Simple Network Management Protocol</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534740"></a><p>[<abbr class="abbrev">MRTG</abbr>] <span class="title"><i>
        <a href="http://oss.oetiker.ch/mrtg/" target="_top">Multi Router Traffic Grapher</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534756"></a><p>[<abbr class="abbrev">SNAPP</abbr>] <span class="title"><i>
        <a href="http://tools.globalnoc.iu.edu/snapp.html" target="_top">SNMP Network Analysis and Presentation Package</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534773"></a><p>[<abbr class="abbrev">Cricket</abbr>] <span class="title"><i>
        <a href="http://cricket.sourceforge.net/" target="_top">Cricket</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534789"></a><p>[<abbr class="abbrev">CACTI</abbr>] <span class="title"><i>
        <a href="http://cacti.net/" target="_top">CACTI</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534804"></a><p>[<abbr class="abbrev">RRD</abbr>] <span class="title"><i>
        <a href="http://oss.oetiker.ch/rrdtool/" target="_top">RRDTool</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534820"></a><p>[<abbr class="abbrev">NM-WG</abbr>] <span class="title"><i>
        <a href="http://nmwg.internet2.edu" target="_top">Network Measurements Working Group</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534836"></a><p>[<abbr class="abbrev">perfSONAR</abbr>] <span class="title"><i>
        <a href="http://www.perfSONAR.net" target="_top">perfSONAR</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534853"></a><p>[<abbr class="abbrev">perfSONAR-UI</abbr>] <span class="title"><i>
        <a href="http://perfsonar.acad.bg/" target="_top">perfSONAR-UI</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534869"></a><p>[<abbr class="abbrev">XML</abbr>] <span class="title"><i>
        <a href="http://www.w3.org/XML" target="_top">Extensible Markup Language (XML)</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534885"></a><p>[<abbr class="abbrev">ping</abbr>] <span class="title"><i>
        <a href="http://en.wikipedia.org/wiki/Ping" target="_top">Ping - Wikipedia</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534901"></a><p>[<abbr class="abbrev">RELAX-NG</abbr>] <span class="title"><i>
        <a href="http://relaxng.org/" target="_top">RELAX-NG Schema Language</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534917"></a><p>[<abbr class="abbrev">XSD</abbr>] <span class="title"><i>
        <a href="http://www.w3.org/XML/Schema" target="_top">XML Schema</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534935"></a><p>[<abbr class="abbrev">GGF/OGF</abbr>] <span class="title"><i>
        <a href="http://www.ogf.org/" target="_top">(Global|Open) Grid Forum</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534951"></a><p>[<abbr class="abbrev">CDF</abbr>] <span class="title"><i>
        <a href="http://en.wikipedia.org/wiki/Cumulative_distribution_function" target="_top">Cumulative distribution function - Wikipedia</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534968"></a><p>[<abbr class="abbrev">NMWG-Schema</abbr>] <span class="title"><i>
        <a href="http://nmwg.internet2.edu/nm-schema-base.html" target="_top">NMWG Base Schema</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2534984"></a><p>[<abbr class="abbrev">Zurawski06Scalable</abbr>] <span class="title"><i>A Scalable Framework for Representation and Exchange of Network Measurements</i>. </span><span class="authorgroup"><span class="firstname">J.</span> <span class="surname">Zurawski</span>, <span class="firstname">M.</span> <span class="surname">Swany</span>, and <span class="firstname">D.</span> <span class="surname">Gunter</span>. </span><span class="confgroup"><span class="confdates">March, 2006. </span><span class="conftitle">2nd International IEEE/Create-Net Conference on Testbeds and Research Infrastructures for the Development of Networks and Communities. </span><span class="address">Barcelona, Spain. </span><span class="confsponsor">IEEE/Create-Net. </span>. </span></p></div><div class="biblioentry"><a id="id2535051"></a><p>[<abbr class="abbrev">Hanemann05PerfSONAR</abbr>] <span class="title"><i>PerfSONAR: A Service-Oriented Architecture for Multi-Domain Network Monitoring </i>. </span><span class="authorgroup"><span class="firstname">A.</span> <span class="surname">Hanemann</span>, <span class="firstname">J.</span> <span class="surname">Boote</span>, <span class="firstname">E.</span> <span class="surname">Boyd</span>, <span class="firstname">J.</span> <span class="surname">Durand</span>, <span class="firstname">L.</span> <span class="surname">Kudarimoti</span>, <span class="firstname">R.</span> <span class="surname">Lapacz</span>, <span class="firstname">M.</span> <span class="surname">Swany</span>, <span class="firstname">S.</span> <span class="surname">Trocha</span>, and <span class="firstname">J.</span> <span class="surname">Zurawski</span>. </span><span class="confgroup"><span class="confdates">2005. </span><span class="conftitle">International Conference on Service Oriented Computing. </span>. </span></p></div></div></div></body></html>
