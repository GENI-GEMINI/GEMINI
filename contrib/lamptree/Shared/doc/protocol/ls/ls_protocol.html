<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>perfSONAR LS Protocol</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0" /></head><body><div class="article" lang="en" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="id2479019"></a>perfSONAR LS Protocol</h1></div><div><div class="author"><h3 class="author"><span class="firstname">J.</span> <span class="surname">Zurawski</span></h3><div class="affiliation"><span class="orgname">Internet2<br /></span><div class="address"><p>   <br />
          <code class="email">&lt;<a href="mailto:zurawski@internet2.edu">zurawski@internet2.edu</a>&gt;</code><br />
        </p></div></div></div></div><div><p class="copyright">Copyright © 2007, 2008 Internet2</p></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#changes">1. Document Changes</a></span></dt><dt><span class="section"><a href="#introduction">2. Introduction</a></span></dt><dt><span class="section"><a href="#architecture">3. System Architecture</a></span></dt><dt><span class="section"><a href="#protocol">4. LS Protocol</a></span></dt><dd><dl><dt><span class="section"><a href="#register_messages">4.1. Registration Messages</a></span></dt><dd><dl><dt><span class="section"><a href="#register_request_message">4.1.1. LSRegisterRequest Message</a></span></dt><dd><dl><dt><span class="section"><a href="#register_request_examples">4.1.1.1. LSRegisterRequest Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#register_request_schema_message">4.1.1.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_metadata">4.1.1.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_key">4.1.1.1.3. Key Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_parameters">4.1.1.1.4. Parameters Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_parameter">4.1.1.1.5. Parameter Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_subject">4.1.1.1.6. Subject Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_service">4.1.1.1.7. Service Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_serviceName">4.1.1.1.8. serviceName Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_accessPoint">4.1.1.1.9. accessPoint Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_serviceType">4.1.1.1.10. serviceType Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_serviceDescription">4.1.1.1.11. serviceDescription Element</a></span></dt><dt><span class="section"><a href="#register_request_schema_data">4.1.1.1.12. Data Element</a></span></dt></dl></dd><dt><span class="section"><a href="#register_request_schema">4.1.1.2. LSRegisterRequest Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#register_request_schema_relax">4.1.1.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#register_request_schema_xsd">4.1.1.2.2. XSD</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#register_response_message">4.1.2. LSRegisterResponse Message</a></span></dt><dd><dl><dt><span class="section"><a href="#register_response_examples">4.1.2.1. LSRegisterResponse Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#register_response_schema_message">4.1.2.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#register_response_schema_metadata">4.1.2.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#register_response_schema_key">4.1.2.1.3. Key Element</a></span></dt><dt><span class="section"><a href="#register_response_schema_parameters">4.1.2.1.4. Parameters Element</a></span></dt><dt><span class="section"><a href="#register_response_schema_parameter">4.1.2.1.5. Parameter Element</a></span></dt><dt><span class="section"><a href="#register_response_schema_eventType">4.1.2.1.6. eventType Element</a></span></dt><dt><span class="section"><a href="#register_response_schema_data">4.1.2.1.7. Data Element</a></span></dt><dt><span class="section"><a href="#register_response_schema_datum">4.1.2.1.8. Datum Element</a></span></dt></dl></dd><dt><span class="section"><a href="#register_response_schema">4.1.2.2. LSRegisterResponse Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#register_response_schema_relax">4.1.2.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#register_response_schema_xsd">4.1.2.2.2. XSD</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#deregister_messages">4.2. Deregistration Messages</a></span></dt><dd><dl><dt><span class="section"><a href="#deregister_request_message">4.2.1. LSDeregisterRequest Message</a></span></dt><dd><dl><dt><span class="section"><a href="#deregister_request_examples">4.2.1.1. LSDeregisterRequest Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#deregister_request_schema_message">4.2.1.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#deregister_request_schema_metadata">4.2.1.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#deregister_request_schema_key">4.2.1.1.3. Key Element</a></span></dt><dt><span class="section"><a href="#deregister_request_schema_parameters">4.2.1.1.4. Parameters Element</a></span></dt><dt><span class="section"><a href="#deregister_request_schema_parameter">4.2.1.1.5. Parameter Element</a></span></dt><dt><span class="section"><a href="#deregister_request_schema_data">4.2.1.1.6. Data Element</a></span></dt></dl></dd><dt><span class="section"><a href="#deregister_request_schema">4.2.1.2. LSDeregisterRequest Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#deregister_request_schema_relax">4.2.1.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#deregister_request_schema_xsd">4.2.1.2.2. XSD</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#deregister_response_message">4.2.2. LSDeregisterResponse Message</a></span></dt><dd><dl><dt><span class="section"><a href="#deregister_response_examples">4.2.2.1. LSDeregisterResponse Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#deregister_response_schema_message">4.2.2.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#deregister_response_schema_metadata">4.2.2.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#deregister_response_schema_eventType">4.2.2.1.3. eventType Element</a></span></dt><dt><span class="section"><a href="#deregister_response_schema_data">4.2.2.1.4. Data Element</a></span></dt><dt><span class="section"><a href="#deregister_response_schema_datum">4.2.2.1.5. Datum Element</a></span></dt></dl></dd><dt><span class="section"><a href="#deregister_response_schema">4.2.2.2. LSDeregisterResponse Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#deregister_response_schema_relax">4.2.2.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#deregister_response_schema_xsd">4.2.2.2.2. XSD</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#keepalive_messages">4.3. Keepalive Messages</a></span></dt><dd><dl><dt><span class="section"><a href="#keepalive_request_message">4.3.1. LSKeepaliveRequest Message</a></span></dt><dd><dl><dt><span class="section"><a href="#keepalive_request_examples">4.3.1.1. LSKeepaliveRequest Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#keepalive_request_schema_message">4.3.1.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#keepalive_request_schema_metadata">4.3.1.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#keepalive_request_schema_key">4.3.1.1.3. Key Element</a></span></dt><dt><span class="section"><a href="#keepalive_request_schema_parameters">4.3.1.1.4. Parameters Element</a></span></dt><dt><span class="section"><a href="#keepalive_request_schema_parameter">4.3.1.1.5. Parameter Element</a></span></dt><dt><span class="section"><a href="#keepalive_request_schema_data">4.3.1.1.6. Data Element</a></span></dt></dl></dd><dt><span class="section"><a href="#keepalive_request_schema">4.3.1.2. LSKeepaliveRequest Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#keepalive_request_schema_relax">4.3.1.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#keepalive_request_schema_xsd">4.3.1.2.2. XSD</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#keepalive_response_message">4.3.2. LSKeepaliveResponse Message</a></span></dt><dd><dl><dt><span class="section"><a href="#keepalive_response_examples">4.3.2.1. LSKeepaliveResponse Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#keepalive_response_schema_message">4.3.2.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#keepalive_response_schema_metadata">4.3.2.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#keepalive_response_schema_eventType">4.3.2.1.3. eventType Element</a></span></dt><dt><span class="section"><a href="#keepalive_response_schema_data">4.3.2.1.4. Data Element</a></span></dt><dt><span class="section"><a href="#keepalive_response_schema_datum">4.3.2.1.5. Datum Element</a></span></dt></dl></dd><dt><span class="section"><a href="#keepalive_response_schema">4.3.2.2. LSKeepaliveResponse Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#keepalive_response_schema_relax">4.3.2.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#keepalive_response_schema_xsd">4.3.2.2.2. XSD</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#query_messages">4.4. Query Messages</a></span></dt><dd><dl><dt><span class="section"><a href="#query_request_message">4.4.1. LSQueryRequest Message</a></span></dt><dd><dl><dt><span class="section"><a href="#query_request_examples">4.4.1.1. LSQueryRequest Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#query_request_schema_message">4.4.1.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#query_request_schema_metadata">4.4.1.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#query_request_schema_subject">4.4.1.1.3. Subject Element</a></span></dt><dt><span class="section"><a href="#query_request_schema_eventType">4.4.1.1.4. eventType Element</a></span></dt><dt><span class="section"><a href="#query_request_schema_data">4.4.1.1.5. Data Element</a></span></dt></dl></dd><dt><span class="section"><a href="#query_request_schema">4.4.1.2. LSQueryRequest Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#query_request_schema_relax">4.4.1.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#query_request_schema_xsd">4.4.1.2.2. XSD</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#query_response_message">4.4.2. LSQueryResponse Message</a></span></dt><dd><dl><dt><span class="section"><a href="#query_response_examples">4.4.2.1. LSQueryResponse Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#query_response_schema_message">4.4.2.1.1. Message Element</a></span></dt><dt><span class="section"><a href="#query_response_schema_metadata">4.4.2.1.2. Metadata Element</a></span></dt><dt><span class="section"><a href="#query_response_schema_data">4.4.2.1.3. Data Element</a></span></dt><dt><span class="section"><a href="#query_response_schema_datum">4.4.2.1.4. Datum Element</a></span></dt></dl></dd><dt><span class="section"><a href="#query_response_schema">4.4.2.2. LSQueryResponse Schema</a></span></dt><dd><dl><dt><span class="section"><a href="#query_response_schema_relax">4.4.2.2.1. RELAX-NG</a></span></dt><dt><span class="section"><a href="#query_response_schema_xsd">4.4.2.2.2. XSD</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#result_codes">4.5. Result Codes</a></span></dt><dt><span class="section"><a href="#protocol_extension">4.6. Extensions</a></span></dt></dl></dd><dt><span class="glossary"><a href="#glossary">Terms</a></span></dt><dt><span class="bibliography"><a href="#bibliography">References</a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="changes"></a>1. Document Changes</h2></div></div></div><div class="table"><a id="table.1"></a><p class="title"><b>Table 1. Change Log</b></p><div class="table-contents"><table summary="Change Log" border="1"><colgroup><col align="left" /></colgroup><thead><tr><th align="left">Version</th><th align="left">Date</th><th align="left">Description</th><th align="left">Author(s)</th></tr></thead><tbody><tr><td align="left">1.0</td><td align="left">1/4/2008</td><td align="left">Initial Preparation</td><td align="left">J. Zurawski</td></tr><tr><td align="left">1.0</td><td align="left">1/11/2008</td><td align="left">Corrections to Registration, adding more content</td><td align="left">J. Zurawski</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="introduction"></a>2. Introduction</h2></div></div></div><p>
      The <span><strong class="command">Lookup Service</strong></span> is an example of an
      <span class="emphasis"><em>infrastructure</em></span> component of the
      <a href="#id2540052">perfSONAR</a> framework; the primary goal being to aid
      in the discovery of datasets and to unburden otherwise busy
      <span><strong class="command">Measurement Archive</strong></span> and
      <span><strong class="command">Measurement Point</strong></span> services from answering exhaustive 
      queries from client software.  This work describes the communication
      protocol used by the <span><strong class="command">LS</strong></span> to manage (i.e. 
      <span class="emphasis"><em>register</em></span>, <span class="emphasis"><em>deregister</em></span>, 
      and <span class="emphasis"><em>update</em></span>) and locate (i.e. 
      <span class="emphasis"><em>query</em></span>) datasets. The tasks undertaken by this
      critical component rely on communication protocols based on the same
      <a href="#id2540070">XML</a> formats used to exchange and store measurement
      data as defined by the <a href="#id2540033">NM-WG</a> in the
      <a href="#id2540088">OGF</a>.
    </p><p>
      The <span class="emphasis"><em>LS Protocol</em></span> is not used by the
      <span><strong class="command">LS</strong></span> alone, portions are currently used by client
      applications as well as other services to register and maintain data, as
      well as ascertain the <span class="emphasis"><em>contents</em></span> of a running
      <span><strong class="command">LS</strong></span> instance.  All current services contain bindings
      that permit them to transfer data to and from <span><strong class="command">LS</strong></span>
      instances to better balance the discovery in the framework; through
      extension is is also possible for <span><strong class="command">LS</strong></span> instances to
      register and exchange information between themselves (see the 
      <span class="emphasis"><em>Distributed Lookup Service</em></span> document).
    </p><p>  
      The remainder of this document will explain the origins of this command
      protocol in <a href="#architecture">Architecture</a>, detailed descriptions
      regarding syntax and semantics in <a href="#protocol">LS Protocol</a>, an overview
      of status in <a href="#result_codes">Result Codes</a>, and finally points of
      extension will be discussed in <a href="#protocol_extension">Extensions</a>.
    </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="architecture"></a>3. System Architecture</h2></div></div></div><p>
      Locating resources within dynamic software deployments such as
      <span class="emphasis"><em>perfSONAR</em></span> is a challenging prospect.  Service
      instances may feature limited lifetime data, and themselves may join and
      leave the framework without <span class="emphasis"><em>a priori</em></span> notification to
      other affiliated framework components.  The
      <span><strong class="command">Lookup Service</strong></span> was constructed to help mange this
      discovery problem by offering a static location where service instances
      may register and maintain data sets, and client applications and other
      services may query a known location to find recent information.  
    </p><p>
      There are four primary types of message in the <span><strong class="command">LS</strong></span>
      protocol, all dealing with the management of data, albeit from
      potentially different actors.  
    </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">Registration</strong></span> - initiated by services that
        manage data sets in the <span class="emphasis"><em>perfSONAR</em></span> framework such as
        <span><strong class="command">Measurement Archives</strong></span>.  This message is generally sent
        when a service first comes online and establishes itself within the
        framework as the location of specific information.</p></li><li style="list-style-type: circle"><p><span><strong class="command">Deregistration</strong></span> - opposite effect to that of
        <span class="emphasis"><em>Registration</em></span>; services let the
        <span><strong class="command">LS</strong></span> know that specific data or perhaps the service
        itself is unavailable.</p></li><li style="list-style-type: circle"><p><span><strong class="command">Keepalive</strong></span> - initiated by already running
        services and involves <span class="emphasis"><em>refreshing</em></span> the already
        registered data to signify that it is still valid.</p></li><li style="list-style-type: circle"><p><span><strong class="command">Query</strong></span> - initiated by clients or other 
        services to check the existence and location of data sets.</p></li></ul></div><p>
      The basic protocol as presented here can be extended to similar services
      and extensions to that of the basic <span><strong class="command">LS</strong></span>.  Services that
      handle the registration and discovery of similar sets (such as the
      <span><strong class="command">Topology Service</strong></span>) may also benefit from this protocol
      draft.
    </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="protocol"></a>4. LS Protocol</h2></div></div></div><p>
      The core functionality of the <span class="emphasis"><em>LS Protocol</em></span> is to 
      provide a set of messages (in <span class="emphasis"><em>request</em></span> and
      <span class="emphasis"><em>response</em></span> pairs) that drive the actions of data
      management and discovery.  We present an overview of each of these
      message sets used in this protocol, including both schematic designs and
      examples for the <a href="#register_messages">Registration Messages</a>, 
      <a href="#deregister_messages">Deregistration Messages</a>, 
      <a href="#keepalive_messages">Keepalive Messages</a>, and 
      <a href="#query_messages">Query Messages</a>.  We conclude with brief descriptions
      of where extensions are possible followed by some current examples in 
      <a href="#protocol_extension">Extensions</a>.  
    </p><p>
      All protocols used within <span class="emphasis"><em>perfSONAR</em></span> are based on
      recommendations from the <span class="emphasis"><em>OGF</em></span>'s
      <span class="emphasis"><em>NM-WG</em></span>, and have been initially described
      in <a href="#id2540125">A Scalable Framework for Representation and Exchange of Network Measurements</a>.  The basic format described
      in this work for measurements has been adapted as a template for use in
      service communication as well, keeping the concept of 
      <a href="#metadata">metadata</a> and <a href="#data">data</a> intact.  
    </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="register_messages"></a>4.1. Registration Messages</h3></div></div></div><p>
        The <span class="emphasis"><em>registration</em></span> messages are used by services
        (such as <span class="emphasis"><em>Measurement Archives</em></span> or
        <span class="emphasis"><em>Measurement Points</em></span>) to register or update local
        data with an <span><strong class="command">LS</strong></span> instance within a
        <span class="emphasis"><em>perfSONAR</em></span> deployment.  Note that in this version of
        the <span><strong class="command">LS  Protocol</strong></span> does not feature an explicit message
        type for the operation of <span class="emphasis"><em>updating</em></span> already
        registered information.  This functionality is included in the
        <span class="emphasis"><em>registration</em></span> message by simply indicating to the
        <span><strong class="command">LS</strong></span> that the service is already registered.
      </p><p>
        The <span class="emphasis"><em>request</em></span> message typically consists of
        identification information (service data in some enumerated fashion or
        a previously issued <span class="emphasis"><em>key</em></span> from the
        <span><strong class="command">LS</strong></span>) and data that the service contains and wishes to
        make available.  The <span class="emphasis"><em>response</em></span> must contain result
        code information for each
        <span class="emphasis"><em>metadata</em></span>/<span class="emphasis"><em>data</em></span> pair that was
        sent in the <span class="emphasis"><em>request</em></span> message.  The results codes, as
        discussed in <a href="#result_codes">Result Codes</a>, must report the success or
        failure of the <span class="emphasis"><em>Registration</em></span> message and will
        reflect the current state of the <span><strong class="command">LS</strong></span>.
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="register_request_message"></a>4.1.1. LSRegisterRequest Message</h4></div></div></div><p>
          The message consists of at least two parts that are linked, the 
          first being at least one <span class="emphasis"><em>metadata</em></span> element, the 
          second being at least one <span class="emphasis"><em>data</em></span> element.  The 
          <span class="emphasis"><em>metadata</em></span> block(s) must contain service identification
          information that uniquely describes the submitting service, while the
          <span class="emphasis"><em>data</em></span> section(s) contain
          representative bits from the services data set.  It is understood
          that these are the <span class="emphasis"><em>metadata</em></span> from this service
          only.  It is possible to offer either the complete representation
          exactly how it appears in the service or a summarized version that
          may omit certain extraneous details.  
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="register_request_examples"></a>4.1.1.1. LSRegisterRequest Examples</h5></div></div></div><p>
            The following <span><strong class="command">LSRegisterRequest</strong></span> message
            illustrates the general <span class="emphasis"><em>first time</em></span> format that
            an <span><strong class="command">LS</strong></span> will be expecting.  The data section,
            which does left blank to not mandate a specific metadata structure
            to be submitted; this will different from service to service.  
          </p><pre class="programlisting">
            
              &lt;?xml version='1.0' encoding='UTF-8'?&gt;
              &lt;nmwg:message type="LSRegisterRequest"
                            id="msg1"
                            xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                &lt;nmwg:metadata id="serviceLookupInfo"&gt;
                  &lt;perfsonar:subject id="commonParameters" 
                                     xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/"&gt;
                    &lt;psservice:service id="serviceParameters" 
                                       xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                      &lt;psservice:serviceName&gt;My_test_MA&lt;/psservice:serviceName&gt;
                      &lt;psservice:accessPoint&gt;http://localhost:8080/axis/services/snmpMA&lt;/psservice:accessPoint&gt;
                      &lt;psservice:serviceType&gt;MA&lt;/psservice:serviceType&gt;
                      &lt;psservice:serviceDescription&gt;This is my testing MA&lt;/psservice:serviceDescription&gt;
                    &lt;/psservice:service&gt;
                  &lt;/perfsonar:subject&gt;
                &lt;/nmwg:metadata&gt;
    
                &lt;nmwg:data id="data" metadataIdRef="serviceLookupInfo"&gt;
                  &lt;!-- content --&gt;
                &lt;/nmwg:data&gt;
 
              &lt;/nmwg:message&gt;
            
          </pre><p>
            All attributes and elements, as listed, are required and in the
            proper namespaces.  There are two special cases to this base
            message that are used to <span class="emphasis"><em>update</em></span> existing
            data.  Case one can be interpreted as
            <span class="emphasis"><em>update by replacement</em></span> while case two will
            <span class="emphasis"><em>update</em></span> by augmenting new data to anything that
            already exists.  Case one is discussed first.
          </p><pre class="programlisting">
            
              &lt;?xml version='1.0' encoding='UTF-8'?&gt;
              &lt;nmwg:message type="LSRegisterRequest"
                            id="msg1"
                            xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                &lt;nmwg:metadata id="serviceLookupInfo"&gt;
                  
                  &lt;nmwg:key id="key1"&gt;
                    &lt;nmwg:parameters id="param1"&gt;
                      &lt;nmwg:parameter name="lsKey"&gt;http://localhost:8080/axis/services/snmpMA&lt;/nmwg:parameter&gt;
                    &lt;/nmwg:parameters&gt;
                  &lt;/nmwg:key&gt;                    
               
                  &lt;perfsonar:subject id="commonParameters" 
                                     xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/"&gt;
                    &lt;psservice:service id="serviceParameters" 
                                       xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                      &lt;psservice:serviceName&gt;My_test_MA_2&lt;/psservice:serviceName&gt;
                      &lt;psservice:accessPoint&gt;http://localhost:8081/axis/services/snmpMA&lt;/psservice:accessPoint&gt;
                      &lt;psservice:serviceType&gt;MA&lt;/psservice:serviceType&gt;
                      &lt;psservice:serviceDescription&gt;This is a new deployment of the MA.&lt;/psservice:serviceDescription&gt;
                    &lt;/psservice:service&gt;
                  &lt;/perfsonar:subject&gt;

                &lt;/nmwg:metadata&gt;
    
                &lt;nmwg:data id="data" metadataIdRef="serviceLookupInfo"&gt;
                  &lt;!-- maybe new content, maybe old ... --&gt;
                &lt;/nmwg:data&gt;
 
              &lt;/nmwg:message&gt;
            
          </pre><p>
            Note that this metadata features both the <span class="emphasis"><em>key</em></span>
            structure (signifying this service should be known to the
            <span><strong class="command">LS</strong></span>) and a <span class="emphasis"><em>service subject</em></span>.
            The <span class="emphasis"><em>service subject</em></span> may be the same, or could
            contain different information.  The important thing to note is that
            when both of these items are present and valid, the following will
            happen internal to the service:
          </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>All data associated with the previous service definition
              will be removed.</p></li><li style="list-style-type: circle"><p>The service definition will be removed.</p></li><li style="list-style-type: circle"><p>The (potentially) new service definition will be added.</p></li><li style="list-style-type: circle"><p>All new data will be added.</p></li><li style="list-style-type: circle"><p>Response will contain status of all above steps.</p></li></ul></div><p>
            Contrasting to the approach of <span class="emphasis"><em>removal</em></span> of
            old data, the other available <span class="emphasis"><em>update</em></span> method
            is more concerned with inserting <span class="emphasis"><em>additional</em></span>
            information.
          </p><pre class="programlisting">
            
              &lt;?xml version='1.0' encoding='UTF-8'?&gt;
              &lt;nmwg:message type="LSRegisterRequest"
                            id="msg1"
                            xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                &lt;nmwg:metadata id="serviceLookupInfo"&gt;
                  
                  &lt;nmwg:key id="key1"&gt;
                    &lt;nmwg:parameters id="param1"&gt;
                      &lt;nmwg:parameter name="lsKey"&gt;http://localhost:8081/axis/services/snmpMA&lt;/nmwg:parameter&gt;
                    &lt;/nmwg:parameters&gt;
                  &lt;/nmwg:key&gt;                    

                &lt;/nmwg:metadata&gt;
    
                &lt;nmwg:data id="data" metadataIdRef="serviceLookupInfo"&gt;
                  &lt;!-- new data... --&gt;
                &lt;/nmwg:data&gt;
 
              &lt;/nmwg:message&gt;
            
          </pre><p>
            This method features <span class="emphasis"><em>only</em></span> the returned
            <span class="emphasis"><em>key</em></span> from the <span><strong class="command">LS</strong></span> in the 
            <span class="emphasis"><em>subject</em></span> element, and lets the service know
            that the enclosed data should be added to the records for the
            service.  We will now present a description of each element, as
            well as related attributes for the previous messages.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_message"></a>4.1.1.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSRegisterRequest"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                
                  &lt;nmwg:metadata /&gt;
                
                  &lt;nmwg:data /&gt;
               
                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>message</em></span> element serves as a container that
              all information of a <span class="emphasis"><em>LSRegisterRequest</em></span>
              communication must travel in.  There are valuable attributes as
              well as enclosed elements that are required for this particular
              message.
            </p><p>
              There are two acceptable attributes for this message: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>type</em></span>.  The
              <span class="emphasis"><em>id</em></span> attribute can be used to track message
              state while the <span class="emphasis"><em>type</em></span> is used to route the
              message through a service that is capable of handling several.
              The <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either
              the simple string <span><strong class="command">LSRegisterRequest</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSRegisterRequest/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSRegisterRequest/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                
                  &lt;!-- ... --&gt;
                
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#register_request_schema_metadata">Metadata Element</a> and 
              <a href="#register_request_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_metadata"></a>4.1.1.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                               
                  &lt;nmwg:key /&gt;
                  
                  &lt;perfsonar:subject xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" /&gt;
                
                &lt;/nmwg:metadata&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, subject</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element normally contains the 
              <span class="emphasis"><em>static</em></span> information regarding measurements, and
              in the case of the <span class="emphasis"><em>LSRegisterRequest</em></span> message, 
              it will contain some other form of static service information:
              identification of a service by service description
              or stored a stored key.  As with the
              <a href="#register_request_schema_message">Message Element</a>, there are
              specific pieces of information required for this element to be
              correct.
            </p><p>
              There is only one acceptable attribute: <span class="emphasis"><em>id</em></span>.  
              The id attribute can be used to track metadata state, and must
              be utilized by the corresponding
              <a href="#register_request_schema_data">Data Element</a>.  Inside of the
              element there can be a 
              <a href="#register_request_schema_key">Key Element</a> or a 
              <a href="#register_request_schema_subject">Subject Element</a> (sometimes both
              depending on what specific type of
              <span class="emphasis"><em>registration</em></span> this element is performing).
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_key"></a>4.1.1.1.3. Key Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:key xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                          id="STRING"&gt;
                        
                  &lt;nmwg:parameters id="STRING" /&gt;

                &lt;/nmwg:key&gt; 
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - key</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
              The <span><strong class="command">key</strong></span> element encloses a
              <span><strong class="command">parameters</strong></span> structure that will be used to 
              describe some internal system state (i.e. an identification
              that is known to the <span><strong class="command">LS</strong></span>).  In this
              case we are passing back to the <span><strong class="command">LS</strong></span> the name of
              an already registered service that has been previously issued.
              The <span class="emphasis"><em>key</em></span> itself does not serve
              an explicit purpose other than to offer a container for the
              <a href="#register_request_schema_parameters">Parameters Element</a> element.
              The namespace of this object is always the same and the object
              <span><strong class="command">is</strong></span> required.  There must always be an 
              <span class="emphasis"><em>id</em></span> attribute for this message.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_parameters"></a>4.1.1.1.4. Parameters Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:parameters id="STRING"
                                 xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                               
                  &lt;nmwg:parameter name="STRING"&gt;STRING&lt;/nmwg:parameter&gt;

                &lt;/nmwg:parameters&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span><strong class="command">parameters</strong></span> element encloses a series of 
              <a href="#register_request_schema_parameter">Parameter Element</a> structures 
              that are normally used to describe variable elements.  In this
              particular case we are using this structure to denote some state
              information that passes between the registering service, and the
              <span><strong class="command">LS</strong></span>.  The namespace of this object is always
              the same and the object <span><strong class="command">is</strong></span> required.  There 
              must always be an <span class="emphasis"><em>id</em></span> attribute with this
              element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_parameter"></a>4.1.1.1.5. Parameter Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:parameter name="STRING"
                                value="STRING"
                                xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:parameter&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - name, value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span><strong class="command">parameter</strong></span> element is meant to describe
              a physical aspect of some variable in terms of both name and
              value.  The value can be an attribute (appropriately named
              <span class="emphasis"><em>value</em></span>) or in the form of a text element.
              There is only one recognized values for the
              <span class="emphasis"><em>name</em></span> attribute at the current time,
              although we leave the possibility that other elements may be
              necessary in the future.  
            </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>lsKey - Specifies the <span class="emphasis"><em>key</em></span> value used
                in identifying an <span><strong class="command">LS</strong></span> instance, for now this
                is simply the <span class="emphasis"><em>accessPoint</em></span>.</p></li></ul></div><p>
              The <span class="emphasis"><em>name</em></span> attribute is required for this element, 
              the <span class="emphasis"><em>value</em></span> attribute is an option instead of using
              a internal text element.  The namespace should always be that of
              the base.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_subject"></a>4.1.1.1.6. Subject Element</h6></div></div></div><pre class="programlisting">
              
                &lt;perfsonar:subject id="STRING" 
                                   xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/"&gt;

                  &lt;psservice:service xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" /&gt;

                &lt;/perfsonar:subject&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - subject</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - service</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
              The <span class="emphasis"><em>subject</em></span> element normally is used to
              describe the <span class="emphasis"><em>noun</em></span> of a measurement, the
              entity that is the source or destination of a specific
              measurement.  In this case we are extending this notion to a
              <span class="emphasis"><em>service</em></span> that is registering information
              with an <span><strong class="command">LS</strong></span> instance.  
            </p><p>
              This element must contain an <span class="emphasis"><em>id</em></span> attribute and
              a nested <span class="emphasis"><em>service</em></span> element as described in
              <a href="#register_request_schema_service">Service Element</a>.  Note that the
              namespace of this element is not the standard
              <span class="emphasis"><em>NM-WG</em></span> namespace; this is by design due to the
              specific nature of the content it contains.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_service"></a>4.1.1.1.7. Service Element</h6></div></div></div><pre class="programlisting">
              
                &lt;psservice:service id="STRING" 
                                   xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                  
                  &lt;psservice:serviceName /&gt;
                
                  &lt;psservice:accessPoint /&gt;
                
                  &lt;psservice:serviceType /&gt;
                
                  &lt;psservice:serviceDescription /&gt;
                
                &lt;/psservice:service&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - service</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - serviceName, accessPoint, serviceType, serviceDescription</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>service</em></span> element consists of nested
              elements that are capable of describing unique information about
              a given <span class="emphasis"><em>perfSONAR</em></span> service.  This element's
              notation is not only seen when dealing with an 
              <span><strong class="command">LS</strong></span>, but may also be seen in other
              infrastructure like services such as <span class="emphasis"><em>Topology</em></span>
              and <span class="emphasis"><em>Authentication</em></span> to describe which service
              we are interested in.
            </p><p>
              This element must contain an <span class="emphasis"><em>id</em></span> attribute and
              the <span class="emphasis"><em>accessPoint</em></span> and
              <span class="emphasis"><em>serviceType</em></span> elements.  It may contain the
              <span class="emphasis"><em>serviceName</em></span> and
              <span class="emphasis"><em>serviceDescription</em></span> elements as well although
              these are not required.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_serviceName"></a>4.1.1.1.8. serviceName Element</h6></div></div></div><pre class="programlisting">
              
                &lt;psservice:serviceName xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                  STRING
                &lt;/psservice:serviceName&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - serviceName</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
              The <span class="emphasis"><em>serviceName</em></span> element gives a textual
              name to a specific <span class="emphasis"><em>service</em></span>.  It should be
              noted that this name should be as descriptive as possible and
              reflect reality, as it may become search criteria for interested
              parties.  This element must contain only a text description
              and nothing else; it is not mandated.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_accessPoint"></a>4.1.1.1.9. accessPoint Element</h6></div></div></div><pre class="programlisting">
              
                &lt;psservice:accessPoint xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                  STRING
                &lt;/psservice:accessPoint&gt; 
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - accessPoint</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>accessPoint</em></span> element gives the
              <span class="emphasis"><em>contact string</em></span> or a particular
              <span class="emphasis"><em>service</em></span> (URL).  This element must contain
              only a text description and nothing else.  This element is
              required, or the <span><strong class="command">LS</strong></span> may reject the message.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_serviceType"></a>4.1.1.1.10. serviceType Element</h6></div></div></div><pre class="programlisting">
              
                &lt;psservice:serviceType xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                  STRING
                &lt;/psservice:serviceType&gt;               
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - serviceType</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>serviceType</em></span> element gives a textual
              description of the <span class="emphasis"><em>service</em></span>, for instance
              <span class="emphasis"><em>MA</em></span> best describing how to classify the
              service in the whole of the framework.  It should be noted that
              this type should be as descriptive as possible and reflect reality,
              as it may become search criteria for interested parties.  This
              element must contain only a text description and nothing else.
              This element is required, omitting it may cause the
              <span><strong class="command">LS</strong></span> to reject the message.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_serviceDescription"></a>4.1.1.1.11. serviceDescription Element</h6></div></div></div><pre class="programlisting">
              
                &lt;psservice:serviceDescription xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                  STRING
                &lt;/psservice:serviceDescription&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - serviceDescription</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
              The <span class="emphasis"><em>serviceDescription</em></span> element gives a
              textual description for a specific <span class="emphasis"><em>service</em></span>.
              This element must contain only a text description and nothing
              else. This element is not required.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_data"></a>4.1.1.1.12. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING"
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;!-- contents --&gt;

                &lt;/nmwg:data&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - yes</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>data</em></span> element is reserved for the more 
              <span class="emphasis"><em>dynamic</em></span> aspects of measurements, namely 
              <span class="emphasis"><em>time</em></span> and <span class="emphasis"><em>value</em></span> pairs.
              Although we are not reporting a measurement in this case, we are
              sending some form of <span class="emphasis"><em>data</em></span> in the form of
              <span class="emphasis"><em>metadata</em></span> descriptions from a service.
            </p><p>
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.  
              We are leaving out an exhaustive description of the possible
              elements that may exist inside of this element due to the ever
              changing nature of <span class="emphasis"><em>perfSONAR</em></span>.  Any
              <span class="emphasis"><em>metadata</em></span> description that a service may be
              taking care of should be accepted.
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="register_request_schema"></a>4.1.1.2. LSRegisterRequest Schema</h5></div></div></div><p>
            An XML <a href="#schema">schema</a> is typically used to describe 
            the structure and internal content of a given XML instance.  This 
            description can sometimes be expressed in XML itself.  This 
            abstract is generally created to allow programmatic validation of 
            XML instances and to protect a service from receiving a poorly 
            constructed message.  
          </p><p>
            Two schema definitions are presented here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_relax"></a>4.1.1.2.1. RELAX-NG</h6></div></div></div><p>
              <span class="emphasis"><em>NM-WG</em></span> schemata is always expressed in terms of
              the RELAX-NG schema language.  This tool, unlike similar XML schema 
              languages, does not utilize XML markup.  The syntax is similar 
              to that of a regular language, and allows for a rather compact 
              description.  The following describes the 
              <span><strong class="command">LSRegisterRequest</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSRegisterRequest</em></span> messages.  Other schemas can be
              found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                namespace perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/"
                namespace psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute type { 
                      "LSRegisterRequest" |
                      "http://schemas.perfsonar.net/messages/LSRegisterRequest/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      element nmwg:key {
                        attribute id { xsd:string } &amp;
                        element nmwg:parameters {
                          attribute id { xsd:string } &amp;
                          element nmwg:parameter {
                            attribute name { "lsKey" } &amp;
                            (
                              text |
                              attribute value { xsd:string }
                            )
                          }
                        }
                      }? &amp;
                      element perfsonar:subject {
                        attribute id { xsd:string } &amp;
                        element psservice:service {
                          attribute id { xsd:string } &amp;
                          element psservice:serviceName { xsd:string }? &amp;
                          element psservice:accessPoint { xsd:string } &amp;
                          element psservice:serviceType { xsd:string } &amp;
                          element psservice:serviceDescription { xsd:string }?                        
                        }
                      }?
                      
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      anyElement+
                    }
                  }

                anyElement = 
                  element * { 
                    anyThing 
                  }

                anyAttribute = 
                  attribute * { text }

                anyThing = 
                  ( 
                    anyElement | 
                    anyAttribute | 
                    text 
                  )*
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_request_schema_xsd"></a>4.1.1.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><p>
              <span><strong class="command">register_request.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" 
                           xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" 
                           xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" 
                             schemaLocation="perfsonar.xsd"/&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" 
                             schemaLocation="psservice.xsd"/&gt;
                  &lt;xs:element name="message"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:metadata"/&gt;
                        &lt;xs:element ref="nmwg:data"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="type" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="LSRegisterRequest"/&gt;
                            &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSRegisterRequest/1.0"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="metadata"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
                        &lt;xs:element ref="nmwg:key"/&gt;
                        &lt;xs:element ref="perfsonar:subject"/&gt;
                      &lt;/xs:choice&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="key"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:parameters"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="parameters"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:parameter"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="parameter"&gt;
                    &lt;xs:complexType mixed="true"&gt;
                      &lt;xs:attribute name="name" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="lsKey"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                      &lt;xs:attribute name="value" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="data"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:group minOccurs="1" maxOccurs="unbounded" ref="nmwg:anyElement"/&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:group name="anyElement"&gt;
                    &lt;xs:sequence&gt;
                      &lt;xs:any processContents="skip"/&gt;
                    &lt;/xs:sequence&gt;
                  &lt;/xs:group&gt;
                  &lt;xs:attributeGroup name="anyAttribute"&gt;
                    &lt;xs:anyAttribute processContents="skip"/&gt;
                  &lt;/xs:attributeGroup&gt;
                  &lt;xs:group name="anyThing"&gt;
                    &lt;xs:sequence&gt;
                      &lt;xs:group minOccurs="0" maxOccurs="unbounded" ref="nmwg:anyElement"/&gt;
                    &lt;/xs:sequence&gt;
                  &lt;/xs:group&gt;
                  &lt;xs:attributeGroup name="anyThing"&gt;
                    &lt;xs:attributeGroup ref="nmwg:anyAttribute"/&gt;
                  &lt;/xs:attributeGroup&gt;
                &lt;/xs:schema&gt;
              
            </pre><p>
              <span><strong class="command">perfsonar.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" 
                           xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" 
                           xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="register_request.xsd"/&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" schemaLocation="psservice.xsd"/&gt;
                  &lt;xs:element name="subject"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="psservice:service"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre><p>
              <span><strong class="command">psservice.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" 
                           xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" 
                           xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="register_request.xsd"/&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" schemaLocation="perfsonar.xsd"/&gt;
                  &lt;xs:element name="service"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element minOccurs="0" ref="psservice:serviceName"/&gt;
                        &lt;xs:element ref="psservice:accessPoint"/&gt;
                        &lt;xs:element ref="psservice:serviceType"/&gt;
                        &lt;xs:element minOccurs="0" ref="psservice:serviceDescription"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="serviceName" type="xs:string"/&gt;
                  &lt;xs:element name="accessPoint" type="xs:string"/&gt;
                  &lt;xs:element name="serviceType" type="xs:string"/&gt;
                  &lt;xs:element name="serviceDescription" type="xs:string"/&gt;
                &lt;/xs:schema&gt;
              
            </pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="register_response_message"></a>4.1.2. LSRegisterResponse Message</h4></div></div></div><p>
          The <span><strong class="command">LSRegisterResponse</strong></span> message is a reply to a given
          <span><strong class="command">LSRegisterRequest</strong></span> message from a client application or
          service.  As discussed in <a href="#register_response_message">LSRegisterResponse Message</a>, 
          this response message is also based on recommendations from the 
          <span class="emphasis"><em>NM-WG</em></span>.
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="register_response_examples"></a>4.1.2.1. LSRegisterResponse Examples</h5></div></div></div><pre class="programlisting">
            
              &lt;?xml version="1.0"?&gt;

              &lt;nmwg:message xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                            id="message.10508492" 
                            messageIdRef="msg1" 
                            type="LSRegisterResponse"&gt;

                &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                               id="metadata.8864627" 
                               metadataIdRef="serviceLookupInfo"&gt;

                  &lt;nmwg:key xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                            id="key.16862305"&gt;
                    &lt;nmwg:parameters id="param.5587477"&gt;
                      &lt;nmwg:parameter name="lsKey"&gt;
                        http://localhost:8080/axis/services/snmpMA
                      &lt;/nmwg:parameter&gt;
                    &lt;/nmwg:parameters&gt;
                  &lt;/nmwg:key&gt;
                  
                  &lt;nmwg:eventType&gt;success.ls.register&lt;/nmwg:eventType&gt;

                &lt;/nmwg:metadata&gt;
              
                &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                           id="data.12743213" 
                           metadataIdRef="metadata.8864627"&gt;
                  &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/"
                         value="[1] Data elements have been registered with key [http://localhost:8080/axis/services/snmpMA]"/&gt;
                &lt;/nmwg:data&gt;
              
              &lt;/nmwg:message&gt;
            
          </pre><p>
            This example illustrates the most basic of 
            <span><strong class="command">LSRegisterResponse</strong></span> messages.  All attributes and
            elements, as listed, are required and in the proper namespaces.  A
            description of each element, as well as related attributes follows.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_message"></a>4.1.2.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSRegisterResponse"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:metadata /&gt;

                  &lt;nmwg:data /&gt;

                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, messageIdRef, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              Like in <a href="#register_request_schema_message">Message Element</a>, this
              message element serves as the outer layer that all other
              information in the communication will travel in.  There
              are valuable attributes as well as enclosed elements that are
              required for this particular message.
            </p><p>
              There are only three acceptable attributes for a message in the 
              <span class="emphasis"><em>LS Protocol</em></span>, all of which are present in the
              request message: <span class="emphasis"><em>id</em></span>,
              <span class="emphasis"><em>messageIdRef</em></span>,  and 
              <span class="emphasis"><em>type</em></span>.  The <span class="emphasis"><em>id</em></span> and 
              <span class="emphasis"><em>messageIdRef</em></span> attributes 
              can be used to track message state while the 
              <span class="emphasis"><em>type</em></span> is used to route the message 
              through a service that is capable of handling several.  The 
              <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either the
              simple string <span><strong class="command">LSRegisterResponse</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSRegisterResponse/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSRegisterResponse/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;!-- ... --&gt;
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#register_response_schema_metadata">Metadata Element</a> and 
              <a href="#register_response_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_metadata"></a>4.1.2.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               metadatIdRef="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:key /&gt;

                  &lt;nmwg:eventType /&gt;

                &lt;/nmwg:metadata&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element will contain the
              results of the execution of the
              <span><strong class="command">LSRegisterRequest</strong></span>.  As with the message there
              are specific pieces of information required for this element to
              be effective.
            </p><p>
              There is only one acceptable attribute: <span class="emphasis"><em>id</em></span>.  
              The id attribute can be used to track metadata state, and must
              be utilized by the
              <a href="#register_response_schema_data">Data Element</a>.  Inside
              of the element there can only be an
              <a href="#register_response_schema_key">Key Element</a> or an 
              <a href="#register_response_schema_eventType">eventType Element</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_key"></a>4.1.2.1.3. Key Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:key xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                          id="STRING"&gt;
                        
                  &lt;nmwg:parameters id="STRING" /&gt;

                &lt;/nmwg:key&gt; 
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - key</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              As in <a href="#register_request_schema_key">Key Element</a> this
              <span><strong class="command">key</strong></span> element encloses a
              <span><strong class="command">parameters</strong></span> 
              structure that is used to describe state.  The key does not serve
              an explicit purpose other than to offer a container for the
              additional <span class="emphasis"><em>parameters</em></span>.  The namespace of this
              object is always the same and the object <span><strong class="command">is</strong></span>
              required.
            </p><p>
              The <a href="#register_response_schema_parameters">Parameters Element</a> elements and 
              <span class="emphasis"><em>id</em></span> attribute are also required for this element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_parameters"></a>4.1.2.1.4. Parameters Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:parameters id="STRING"
                                 xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                               
                  &lt;nmwg:parameter name="STRING"&gt;STRING&lt;/nmwg:parameter&gt;

                &lt;/nmwg:parameters&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span><strong class="command">parameters</strong></span> element encloses a series of 
              <span><strong class="command">parameter</strong></span> structures that are used to describe 
              the state.  The namespace of this object is always the same
              and the object <span><strong class="command">is</strong></span> required.  The
              <a href="#register_response_schema_parameter">Parameter Element</a> elements and 
              <span class="emphasis"><em>id</em></span> attribute are also required for this
              element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_parameter"></a>4.1.2.1.5. Parameter Element</h6></div></div></div><pre class="programlisting">
              

                &lt;nmwg:parameter name="STRING"
                                xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:parameter&gt;

              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - name, value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              Just as described in
              <a href="#register_request_schema_parameter">Parameter Element</a>, the
              <span><strong class="command">parameter</strong></span> element is meant to describe
              state in terms of both name and value.  The value can be an
              attribute (appropriately named <span class="emphasis"><em>value</em></span>) or in
              the form of a text element.  The same named parameter, 
              <span><strong class="command">lsKey</strong></span>, is also the only parameter that will
              be valid.  The namespace should always be the base.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_eventType"></a>4.1.2.1.6. eventType Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:eventType xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:eventType&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>eventType</em></span> element is normally used to
              specify an action for a service or measurement.  We utilize it for
              this role in the <span class="emphasis"><em>LS Protocol</em></span> by specifying
              the <span class="emphasis"><em>action</em></span> of a response to an 
              <span><strong class="command">LSRegisterRequest</strong></span>.  There are no attributes permitted
              for this element, and only text can be used as a child, specifically
              text reporting the status of the transaction. A complete list of
              <span class="emphasis"><em>available</em></span> status strings is available in
              <a href="#result_codes">Result Codes</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_data"></a>4.1.2.1.7. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING" 
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0" /&gt;

                &lt;/nmwg:data&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - yes</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>data</em></span> element is reserved for the more 
              <span class="emphasis"><em>dynamic</em></span> aspects of measurements, namely 
              <span class="emphasis"><em>time</em></span> and <span class="emphasis"><em>value</em></span> pairs.
              Although we are not reporting a measurement in this case, we are
              sending back status information.  This information is delivered
              in a <span class="emphasis"><em>response</em></span> 
              <a href="#register_response_schema_datum">Datum Element</a>.
            </p><p>
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_datum"></a>4.1.2.1.8. Datum Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0"&gt;
                  TEXT
                &lt;/nmwgr:datum&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - datum</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/result/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>datum</em></span> element describes measurements in
              most circumstances; the intent in the
              <span class="emphasis"><em>LS Protocol</em></span> is to report back a human
              readable status message.  There is only one possible attribute
              accepted for this element, <span class="emphasis"><em>value</em></span>, and it may be
              used in place of an enclosed text element.  The text could be
              any message the service wishes to return.
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="register_response_schema"></a>4.1.2.2. LSRegisterResponse Schema</h5></div></div></div><p>
            As described in <a href="#register_request_schema">LSRegisterRequest Schema</a>, we 
            present the the XML <a href="#schema">schema</a> for this 
            message instance as well.  Two schema definitions are presented
            here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_relax"></a>4.1.2.2.1. RELAX-NG</h6></div></div></div><p>
              The following describes the 
              <span><strong class="command">LSRegisterResponse</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSRegisterResponse</em></span> messages.  Other schemas
              can be found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                namespace nmwgr = "http://ggf.org/ns/nmwg/result/2.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute messageIdRef { xsd:string }? &amp;
                    attribute type { 
                      "LSRegisterResponse" |
                      "http://schemas.perfsonar.net/messages/LSRegisterResponse/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      element nmwg:key {
                        attribute id { xsd:string } &amp;
                        element nmwg:parameters {
                          attribute id { xsd:string } &amp;
                          element nmwg:parameter {
                            attribute name { "lsKey" } &amp;
                            (
                              text |
                              attribute value { xsd:string }
                            )
                          }
                        }
                      } &amp;
                      element nmwg:eventType { text }
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      element nmwgr:datum {
                        (
                          text |
                          attribute value { xsd:string }
                        )
                      }
                    }
                  }
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="register_response_schema_xsd"></a>4.1.2.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><p>
              <span><strong class="command">register_response.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" 
                           xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/result/2.0/" 
                             schemaLocation="nmwgr.xsd"/&gt;
                  &lt;xs:element name="message"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:metadata"/&gt;
                        &lt;xs:element ref="nmwg:data"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="messageIdRef" type="xs:string"/&gt;
                      &lt;xs:attribute name="type" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="LSRegisterResponse"/&gt;
                            &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSRegisterResponse/1.0"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="metadata"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:key"/&gt;
                        &lt;xs:element ref="nmwg:eventType"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="key"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:parameters"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="parameters"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:parameter"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="parameter"&gt;
                    &lt;xs:complexType mixed="true"&gt;
                      &lt;xs:attribute name="name" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="lsKey"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                      &lt;xs:attribute name="value" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="eventType" type="xs:string"/&gt;
                  &lt;xs:element name="data"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwgr:datum"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre><p>
              <span><strong class="command">nmwgr.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" 
                             schemaLocation="register_response.xsd"/&gt;
                  &lt;xs:element name="datum"&gt;
                    &lt;xs:complexType mixed="true"&gt;
                      &lt;xs:attribute name="value" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre></div></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="deregister_messages"></a>4.2. Deregistration Messages</h3></div></div></div><p>
        To remove entire sets or particular items of data from a
        <span><strong class="command">Lookup Service</strong></span> the
        <span class="emphasis"><em>Deregistration</em></span> must be used.  Capable
        <span class="emphasis"><em>perfSONAR</em></span> services and clients may submit
        well formatted <span class="emphasis"><em>request</em></span> messages to
        <span><strong class="command">LS</strong></span> instances to alter the internal state in an effort
        to better maintain information in a deployed framework.
      </p><p>
        The <span class="emphasis"><em>request</em></span> message typically consists of
        identification information (a previously issued
        <span class="emphasis"><em>key</em></span> from the <span><strong class="command">LS</strong></span>) and either an
        empty data element (to remove <span><strong class="command">all</strong></span> information) or a
        data populated with specific information to be removed.  The
        <span class="emphasis"><em>response</em></span> must contain result code information for
        each <span class="emphasis"><em>metadata</em></span>/<span class="emphasis"><em>data</em></span> pair that
        was sent in the <span class="emphasis"><em>request</em></span> message.  The results
        codes, as discussed in <a href="#result_codes">Result Codes</a>, must report the
        success or failure of the <span class="emphasis"><em>registration</em></span> message
        and will reflect the current state of the <span><strong class="command">LS</strong></span>.
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="deregister_request_message"></a>4.2.1. LSDeregisterRequest Message</h4></div></div></div><p>
          The message consists of at least two parts that are linked, the 
          first being at least one <span class="emphasis"><em>metadata</em></span> element, the 
          second being at least one <span class="emphasis"><em>data</em></span> element.  The 
          <span class="emphasis"><em>metadata</em></span> must contain service identification
          information (the <span class="emphasis"><em>key</em></span> element issued from the
          <span><strong class="command">LS</strong></span>) and an empty <span class="emphasis"><em>data</em></span> element
          (i.e. <span class="emphasis"><em>data trigger</em></span>) or populated data element
          that allows complete or selective deletion of records.
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="deregister_request_examples"></a>4.2.1.1. LSDeregisterRequest Examples</h5></div></div></div><p>
            The following <span><strong class="command">LSDeregisterRequest</strong></span> message
            illustrates the general accepted format that an
            <span><strong class="command">LS</strong></span> will be expecting.  The data section is empty
            in this first example, signifying that all stored data matching the
            key (if found) should be removed.  
          </p><pre class="programlisting">
            
              &lt;?xml version='1.0' encoding='UTF-8'?&gt;
              &lt;nmwg:message type="LSDeregisterRequest"
                            id="msg1"
                            xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                &lt;nmwg:metadata id="meta"&gt;

                  &lt;nmwg:key id="key1"&gt;
                    &lt;nmwg:parameters id="param1"&gt;
                      &lt;nmwg:parameter name="lsKey"&gt;http://localhost:8080/axis/services/snmpMA&lt;/nmwg:parameter&gt;
                    &lt;/nmwg:parameters&gt;
                  &lt;/nmwg:key&gt;

                &lt;/nmwg:metadata&gt;
    
                &lt;nmwg:data id="data" metadataIdRef="meta" /&gt;
 
              &lt;/nmwg:message&gt;
            
          </pre><p>
            This second example features items inside of the data element.  If
            the key is found, and the listed items are found they will be
            removed from the <span><strong class="command">LS</strong></span>.
          </p><pre class="programlisting">
            
              &lt;?xml version='1.0' encoding='UTF-8'?&gt;
              &lt;nmwg:message type="LSDeregisterRequest"
                            id="msg1"
                            xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                &lt;nmwg:metadata id="meta"&gt;

                  &lt;nmwg:key id="key1"&gt;
                    &lt;nmwg:parameters id="param1"&gt;
                      &lt;nmwg:parameter name="lsKey"&gt;http://localhost:8080/axis/services/snmpMA&lt;/nmwg:parameter&gt;
                    &lt;/nmwg:parameters&gt;
                  &lt;/nmwg:key&gt;

                &lt;/nmwg:metadata&gt;
    
                &lt;nmwg:data id="data" metadataIdRef="meta"&gt;
                  &lt;!-- data to be deregistered --&gt;
                &lt;/nmwg:data&gt;
 
              &lt;/nmwg:message&gt;
            
          </pre><p>
            These example illustrate the basic format of 
            <span><strong class="command">LSDeregisterRequest</strong></span> messages.  All attributes and
            elements, as listed, are required and in the proper namespaces.  A
            description of each element, as well as related attributes follows.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_message"></a>4.2.1.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSDeregisterRequest"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:metadata /&gt;

                  &lt;nmwg:data /&gt;

                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>message</em></span> element serves as a container that
              all subsequent information of a communication must travel in.  There
              are valuable attributes as well as enclosed elements that are
              required for this particular message.
            </p><p>
              There are only three acceptable attributes for a message in the 
              <span class="emphasis"><em>LS Protocol</em></span>, two of which are present in the
              request message: <span class="emphasis"><em>id</em></span> and 
              <span class="emphasis"><em>type</em></span>.  The <span class="emphasis"><em>id</em></span> attribute 
              can be used to track message state while the 
              <span class="emphasis"><em>type</em></span> is used to route the message 
              through a service that is capable of handling several.  The 
              <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either the
              simple string <span><strong class="command">LSDeregisterRequest</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSDeregisterRequest/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSDeregisterRequest/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;!-- ... --&gt;
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#deregister_request_schema_metadata">Metadata Element</a> and 
              <a href="#deregister_request_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_metadata"></a>4.2.1.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:key /&gt;

                &lt;/nmwg:metadata&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, subject</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element normally contains the 
              <span class="emphasis"><em>static</em></span> information regarding measurements, and
              in the case of the <span class="emphasis"><em>LS Protocol</em></span> contains the
              one static use: identification of a service by service description
              or stored a stored key.  As with the message there are
              specific pieces of information required for this element to be
              effective.
            </p><p>
              There is only one acceptable attribute: <span class="emphasis"><em>id</em></span>.  
              The id attribute can be used to track metadata state, and must
              be utilized by the corresponding
              <a href="#deregister_request_schema_data">Data Element</a>.  Inside of the
              element there can only be a 
              <a href="#deregister_request_schema_key">Key Element</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_key"></a>4.2.1.1.3. Key Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:key xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                          id="STRING"&gt;
                        
                  &lt;nmwg:parameters id="STRING" /&gt;

                &lt;/nmwg:key&gt; 
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - key</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
              The <span><strong class="command">key</strong></span> element encloses a <span><strong class="command">parameters</strong></span> 
              structure that is used normally used to describe state.  In this
              case we are passing back to the <span><strong class="command">LS</strong></span> the name of
              an already registered service that the <span><strong class="command">LS</strong></span> has
              issued to us.  The <span class="emphasis"><em>key</em></span> itself does not serve
              an explicit purpose other than to offer a container for the
              additional <span class="emphasis"><em>parameters</em></span>.  The namespace of
              this object is always the same and the object
              <span><strong class="command">is</strong></span> required.
            </p><p>
              The <a href="#deregister_request_schema_parameters">Parameters Element</a> elements and 
              <span class="emphasis"><em>id</em></span> attribute are also required for this element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_parameters"></a>4.2.1.1.4. Parameters Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:parameters id="STRING"
                                 xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                               
                  &lt;nmwg:parameter name="STRING"&gt;STRING&lt;/nmwg:parameter&gt;

                &lt;/nmwg:parameters&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span><strong class="command">parameters</strong></span> element encloses a series of 
              <span><strong class="command">parameter</strong></span> structures that are used to describe 
              state.  The namespace of this object is always the same and the
              object <span><strong class="command">is</strong></span> required.
            </p><p>
              The <a href="#deregister_request_schema_parameter">Parameter Element</a> elements and 
              <span class="emphasis"><em>id</em></span> attribute are also required for this element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_parameter"></a>4.2.1.1.5. Parameter Element</h6></div></div></div><pre class="programlisting">
              

                &lt;nmwg:parameter name="STRING"
                                xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:parameter&gt;

              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - name, value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span><strong class="command">parameter</strong></span> element is meant to describe
              a physical aspect of state in terms of both name and value.
              The value can be an attribute (appropriately named
              <span class="emphasis"><em>value</em></span>) or in the form of a text element.  
            </p><p>
              There is only one recognized values for the <span class="emphasis"><em>name</em></span> 
              attribute at the current time, although we leave the possibility
              that other elements may be necessary in the future.  
            </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>lsKey - Specifies the <span class="emphasis"><em>key</em></span> value used
                in identifying an <span><strong class="command">LS</strong></span> instance, for now this
                is simply the <span class="emphasis"><em>accessPoint</em></span>.</p></li></ul></div><p>
              The <span class="emphasis"><em>name</em></span> attribute is required for this element, 
              the <span class="emphasis"><em>value</em></span> attribute is an option instead of using
              a text element.  The namespace should always be the base.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_data"></a>4.2.1.1.6. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING"
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;!-- contents --&gt;

                &lt;/nmwg:data&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - varies</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>data</em></span> element is reserved for the more 
              <span class="emphasis"><em>dynamic</em></span> aspects of measurements, namely 
              <span class="emphasis"><em>time</em></span> and <span class="emphasis"><em>value</em></span> pairs.
              Although we are not reporting a measurement in this case, we are
              sending some form of <span class="emphasis"><em>data</em></span> in the form of
              <span class="emphasis"><em>metadata</em></span> descriptions from a service.
            </p><p>
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.
            </p><p>
              The data element can be completely empty internally (no enclosed
              elements) or it could contain metadata descriptions as in the
              <a href="#register_request_schema_data">Data Element</a>.  The empty 
              dataset indicates to the server that all data and the service
              itself will be deregistered.  Populated data causes a search for
              the specified information, and when it is found it will be
              removed.  We are leaving out an exhaustive description of the
              possible elements that may exist inside of this element due to
              the ever changing nature of <span class="emphasis"><em>perfSONAR</em></span>.  Any
              <span class="emphasis"><em>metadata</em></span> description that a service may be
              taking care of should be accepted.
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="deregister_request_schema"></a>4.2.1.2. LSDeregisterRequest Schema</h5></div></div></div><p>
            An XML <a href="#schema">schema</a> is typically used to describe 
            the structure and internal content of a given XML instance.  This 
            description can sometimes be expressed in XML itself.  This 
            abstract is generally created to allow programmatic validation of 
            XML instances and to protect a service from receiving a poorly 
            constructed message.  
          </p><p>
            Two schema definitions are presented here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_relax"></a>4.2.1.2.1. RELAX-NG</h6></div></div></div><p>
              <span class="emphasis"><em>NM-WG</em></span> schemata is always expressed in terms of
              the RELAX-NG schema language.  This tool, unlike similar XML schema 
              languages, does not utilize XML markup.  The syntax is similar 
              to that of a regular language, and allows for a rather compact 
              description.  The following describes the 
              <span><strong class="command">LSDeregisterRequest</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSDeregisterRequest</em></span> messages.  Other schemas can be
              found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute type { 
                      "LSDeregisterRequest" |
                      "http://schemas.perfsonar.net/messages/LSDeregisterRequest/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      element nmwg:key {
                        attribute id { xsd:string } &amp;
                        element nmwg:parameters {
                          attribute id { xsd:string } &amp;
                          element nmwg:parameter {
                            attribute name { "lsKey" } &amp;
                            (
                              text |
                              attribute value { xsd:string }
                            )
                          }
                        }
                      }
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      anyElement*
                    }
                  }

                anyElement = 
                  element * { 
                    anyThing 
                  }

                anyAttribute = 
                  attribute * { text }

                anyThing = 
                  ( 
                    anyElement | 
                    anyAttribute | 
                    text 
                  )*
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_request_schema_xsd"></a>4.2.1.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:element name="message"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:metadata"/&gt;
                        &lt;xs:element ref="nmwg:data"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="type" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="LSDeregisterRequest"/&gt;
                            &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSDeregisterRequest/1.0"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="metadata"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:key"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="key"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:parameters"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="parameters"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:parameter"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="parameter"&gt;
                    &lt;xs:complexType mixed="true"&gt;
                      &lt;xs:attribute name="name" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="lsKey"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                      &lt;xs:attribute name="value" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="data"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:group minOccurs="0" maxOccurs="unbounded" ref="nmwg:anyElement"/&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:group name="anyElement"&gt;
                    &lt;xs:sequence&gt;
                      &lt;xs:any processContents="skip"/&gt;
                    &lt;/xs:sequence&gt;
                  &lt;/xs:group&gt;
                  &lt;xs:attributeGroup name="anyAttribute"&gt;
                    &lt;xs:anyAttribute processContents="skip"/&gt;
                  &lt;/xs:attributeGroup&gt;
                  &lt;xs:group name="anyThing"&gt;
                    &lt;xs:sequence&gt;
                      &lt;xs:group minOccurs="0" maxOccurs="unbounded" ref="nmwg:anyElement"/&gt;
                    &lt;/xs:sequence&gt;
                  &lt;/xs:group&gt;
                  &lt;xs:attributeGroup name="anyThing"&gt;
                    &lt;xs:attributeGroup ref="nmwg:anyAttribute"/&gt;
                  &lt;/xs:attributeGroup&gt;
                &lt;/xs:schema&gt;
              
            </pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="deregister_response_message"></a>4.2.2. LSDeregisterResponse Message</h4></div></div></div><p>
          The <span><strong class="command">LSDeregisterResponse</strong></span> message is a reply to a given
          <span><strong class="command">LSDeregisterRequest</strong></span> message from a client application or
          service.  As discussed in <a href="#deregister_request_message">LSDeregisterRequest Message</a>, 
          this response message is also based on recommendations from the 
          <span class="emphasis"><em>NM-WG</em></span>.
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="deregister_response_examples"></a>4.2.2.1. LSDeregisterResponse Examples</h5></div></div></div><pre class="programlisting">
            
              &lt;?xml version="1.0"?&gt;
              &lt;nmwg:message xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                            id="message.10508492" 
                            messageIdRef="msg1" 
                            type="LSDeregisterResponse"&gt;

                &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                               id="metadata.16119359" metadataIdRef="meta"&gt;

                  &lt;nmwg:eventType&gt;success.ls.deregister&lt;/nmwg:eventType&gt;

                &lt;/nmwg:metadata&gt;
              
                &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                           id="data.1842151" metadataIdRef="metadata.16119359"&gt;

                  &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/"&gt;
                    Removed [1] data elements and service info for key "http://localhost:8080/axis/services/snmpMA".
                  &lt;/nmwgr:datum&gt;

                &lt;/nmwg:data&gt;

              &lt;/nmwg:message&gt;
            
          </pre><p>
            This example illustrates the most basic of 
            <span><strong class="command">LSDeregisterResponse</strong></span> messages.  All attributes and
            elements, as listed, are required and in the proper namespaces.  A
            description of each element, as well as related attributes follows.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_response_schema_message"></a>4.2.2.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSDeregisterResponse"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:metadata /&gt;

                  &lt;nmwg:data /&gt;

                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, messageIdRef, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              As described in
              <a href="#deregister_request_schema_message">Message Element</a>, the 
              <span class="emphasis"><em>message</em></span> element serves as a container that
              all subsequent information of a communication must travel in.  There
              are valuable attributes as well as enclosed elements that are
              required for this particular message.
            </p><p>
              There are only three acceptable attributes for a message in the 
              <span class="emphasis"><em>LS Protocol</em></span>, all of which are present in the
              request message: <span class="emphasis"><em>id</em></span>,
              <span class="emphasis"><em>messageIdRef</em></span>,  and 
              <span class="emphasis"><em>type</em></span>.  The <span class="emphasis"><em>id</em></span> and 
              <span class="emphasis"><em>messageIdRef</em></span> attributes 
              can be used to track message state while the 
              <span class="emphasis"><em>type</em></span> is used to route the message 
              through a service that is capable of handling several.  The 
              <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either the
              simple string <span><strong class="command">LSDeregisterResponse</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSDeregisterResponse/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSDeregisterResponse/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;!-- ... --&gt;
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#deregister_response_schema_metadata">Metadata Element</a> and 
              <a href="#deregister_response_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_response_schema_metadata"></a>4.2.2.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               metadatIdRef="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:eventType /&gt;

                &lt;/nmwg:metadata&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element will contain the results
              of the execution of the <span><strong class="command">LSDeregisterRequest</strong></span>.  
              There are specific pieces of information required for this element
              to be effective.  There is only one acceptable attribute:
              <span class="emphasis"><em>id</em></span>.  
              The id attribute can be used to track metadata state, and must
              be utilized by the
              <a href="#deregister_response_schema_data">Data Element</a>.  Inside
              of the element there can only be an 
              <a href="#deregister_response_schema_eventType">eventType Element</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_response_schema_eventType"></a>4.2.2.1.3. eventType Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:eventType xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:eventType&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>eventType</em></span> element is normally used to
              specify an action for a service or measurement.  We utilize it for
              this role in the <span class="emphasis"><em>LS Protocol</em></span> by specifying
              the <span class="emphasis"><em>action</em></span> of a response to an 
              <span><strong class="command">LSDeregisterRequest</strong></span>.  There are no attributes permitted
              for this element, and only text can be used as a child, specifically
              text reporting the status of the transaction. A complete list of
              <span class="emphasis"><em>available</em></span> status strings is available in
              <a href="#result_codes">Result Codes</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_response_schema_data"></a>4.2.2.1.4. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING" 
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0" /&gt;

                &lt;/nmwg:data&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - yes</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>data</em></span> element is used in this case for
              sending back status information.  This information is delivered
              in a <a href="#deregister_response_schema_datum">Datum Element</a> element.
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_response_schema_datum"></a>4.2.2.1.5. Datum Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0"&gt;
                  TEXT
                &lt;/nmwgr:datum&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - datum</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/result/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>datum</em></span> element describes measurements in
              most circumstances; the intent in the
              <span class="emphasis"><em>LS Protocol</em></span> is to report back a human
              readable status message.  There is only one possible attribute
              accepted for this element, <span class="emphasis"><em>value</em></span>, and it may be
              used in place of an enclosed text element.  The text could be
              any message the service wishes to return.
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="deregister_response_schema"></a>4.2.2.2. LSDeregisterResponse Schema</h5></div></div></div><p>
            As in the <a href="#deregister_response_schema">LSDeregisterResponse Schema</a>, the
            XML <a href="#schema">schema</a> is used here to describe 
            the structure and internal content of a given XML instance.  This 
            abstract is generally created to allow programmatic validation of 
            XML instances and to protect a service from receiving a poorly 
            constructed message.  
          </p><p>
            Two schema definitions are presented here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_response_schema_relax"></a>4.2.2.2.1. RELAX-NG</h6></div></div></div><p>
              The following describes the 
              <span><strong class="command">LSDeregisterResponse</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSDeregisterResponse</em></span> messages.  Other schemas can be
              found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                namespace nmwgr = "http://ggf.org/ns/nmwg/result/2.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute messageIdRef { xsd:string }? &amp;
                    attribute type { 
                      "LSDeregisterResponse" |
                      "http://schemas.perfsonar.net/messages/LSDeregisterResponse/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      element nmwg:eventType { text }
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      element nmwgr:datum {
                        (
                          text |
                          attribute value { xsd:string }
                        )
                      }
                    }
                  }
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="deregister_response_schema_xsd"></a>4.2.2.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><p>
              <span><strong class="command">deregister_response.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" 
                           xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/result/2.0/" 
                             schemaLocation="nmwgr.xsd"/&gt;
                  &lt;xs:element name="message"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:metadata"/&gt;
                        &lt;xs:element ref="nmwg:data"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="messageIdRef" type="xs:string"/&gt;
                      &lt;xs:attribute name="type" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="LSDeregisterResponse"/&gt;
                            &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSDeregisterResponse/1.0"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="metadata"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:eventType"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="eventType" type="xs:string"/&gt;
                  &lt;xs:element name="data"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwgr:datum"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre><p>
              <span><strong class="command">nmwgr.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" 
                             schemaLocation="deregister_response.xsd"/&gt;
                  &lt;xs:element name="datum"&gt;
                    &lt;xs:complexType mixed="true"&gt;
                      &lt;xs:attribute name="value" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre></div></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="keepalive_messages"></a>4.3. Keepalive Messages</h3></div></div></div><p>
        Data, upon insertion to the <span><strong class="command">Lookup Service</strong></span>, is given
        an <span class="emphasis"><em>expiration</em></span> time.  The reasoning behind this is
        to monitor the contents of the <span><strong class="command">LS</strong></span> and periodically
        clean out older entries that have not been updated in some time.
        Services that mysteriously disappear or are otherwise not reachable will
        therefore not be advertised via the <span><strong class="command">LS</strong></span> in perpetuity.
        All services are aware of this, and must periodically update, or 
        <span class="emphasis"><em>keepalive</em></span> the registration information.
      </p><p>
        The <span class="emphasis"><em>request</em></span> message typically consists of
        identification information (a previously issued
        <span class="emphasis"><em>key</em></span> from the <span><strong class="command">LS</strong></span>) and an
        empty data element.  Currently a single <span class="emphasis"><em>request</em></span>
        will update all data for the service, instead of individual elements.  
        The <span class="emphasis"><em>response</em></span> must contain result code information
        for each <span class="emphasis"><em>metadata</em></span>/<span class="emphasis"><em>data</em></span> pair
        that was sent in the <span class="emphasis"><em>request</em></span> message.  The results
        codes, as discussed in <a href="#result_codes">Result Codes</a>, must report the
        success or failure of the <span class="emphasis"><em>registration</em></span> message
        and will reflect the current state of the <span><strong class="command">LS</strong></span>.
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="keepalive_request_message"></a>4.3.1. LSKeepaliveRequest Message</h4></div></div></div><p>
          The message consists of at least two parts that are linked, the 
          first being at least one <span class="emphasis"><em>metadata</em></span> element, the 
          second being at least one <span class="emphasis"><em>data</em></span> element.  The 
          <span class="emphasis"><em>metadata</em></span> must contain service identification
          information (the <span class="emphasis"><em>key</em></span> element issued from the
          <span><strong class="command">LS</strong></span>) and an empty <span class="emphasis"><em>data</em></span> element.
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="keepalive_request_examples"></a>4.3.1.1. LSKeepaliveRequest Examples</h5></div></div></div><pre class="programlisting">
            
            &lt;?xml version='1.0' encoding='UTF-8'?&gt;
            &lt;nmwg:message type="LSKeepaliveRequest"
                          id="msg1"
                          xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
         
              &lt;nmwg:metadata id="key_to_keepalive"&gt;

                &lt;nmwg:key id="key1"&gt;
                  &lt;nmwg:parameters id="keys"&gt;
                    &lt;nmwg:parameter name="lsKey"&gt;http://localhost:8080/axis/services/snmpMA&lt;/nmwg:parameter&gt;
                  &lt;/nmwg:parameters&gt;
                &lt;/nmwg:key&gt;

              &lt;/nmwg:metadata&gt;
     
              &lt;nmwg:data metadataIdRef="key_to_keepalive" id="d1"/&gt;

            &lt;/nmwg:message&gt;
            
          </pre><p>
            This example illustrates the most basic of 
            <span><strong class="command">LSKeepaliveRequest</strong></span> messages.  All attributes and
            elements, as listed, are required and in the proper namespaces.  A
            description of each element, as well as related attributes follows.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_message"></a>4.3.1.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSKeepaliveRequest"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:metadata /&gt;

                  &lt;nmwg:data /&gt;

                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>message</em></span> element serves as a container that
              all subsequent information of a communication must travel in.  There
              are valuable attributes as well as enclosed elements that are
              required for this particular message.
            </p><p>
              There are only three acceptable attributes for a message in the 
              <span class="emphasis"><em>LS Protocol</em></span>, two of which are present in the
              request message: <span class="emphasis"><em>id</em></span> and 
              <span class="emphasis"><em>type</em></span>.  The <span class="emphasis"><em>id</em></span> attribute 
              can be used to track message state while the 
              <span class="emphasis"><em>type</em></span> is used to route the message 
              through a service that is capable of handling several.  The 
              <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either the
              simple string <span><strong class="command">LSKeepaliveRequest</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSKeepaliveRequest/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSKeepaliveRequest/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;!-- ... --&gt;
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#keepalive_request_schema_metadata">Metadata Element</a> and 
              <a href="#keepalive_request_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_metadata"></a>4.3.1.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;nmwg:key /&gt;
                  
                &lt;/nmwg:metadata&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, subject</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element contains 
              identification of a service by service description
              or stored a stored key.  As with the message there are
              specific pieces of information required for this element to be
              effective.
            </p><p>
              There is only one acceptable attribute: <span class="emphasis"><em>id</em></span>.  
              The id attribute can be used to track metadata state, and must
              be utilized by the corresponding
              <a href="#keepalive_request_schema_data">Data Element</a>.  Inside of the
              element there can only be a 
              <a href="#keepalive_request_schema_key">Key Element</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_key"></a>4.3.1.1.3. Key Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:key xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                          id="STRING"&gt;
                        
                  &lt;nmwg:parameters id="STRING" /&gt;

                &lt;/nmwg:key&gt; 
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - key</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - no</p></li></ul></div><p>
              The <span><strong class="command">key</strong></span> element encloses a <span><strong class="command">parameters</strong></span> 
              structure that is used normally used to describe state.  In this
              case we are passing back to the <span><strong class="command">LS</strong></span> the name of
              an already registered service that the <span><strong class="command">LS</strong></span> has
              issued to us.  The <span class="emphasis"><em>key</em></span> itself does not serve
              an explicit purpose other than to offer a container for the
              additional <span class="emphasis"><em>parameters</em></span>.  The namespace of
              this object is always the same and the object
              <span><strong class="command">is</strong></span> required.
            </p><p>
              The <a href="#keepalive_request_schema_parameters">Parameters Element</a> elements and 
              <span class="emphasis"><em>id</em></span> attribute are also required for this element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_parameters"></a>4.3.1.1.4. Parameters Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:parameters id="STRING"
                                 xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                               
                  &lt;nmwg:parameter name="STRING"&gt;STRING&lt;/nmwg:parameter&gt;

                &lt;/nmwg:parameters&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameters</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span><strong class="command">parameters</strong></span> element encloses a series of 
              <span><strong class="command">parameter</strong></span> structures that are used to describe 
              state.  The namespace of this object is always the same and the
              object <span><strong class="command">is</strong></span> required.
            </p><p>
              The <a href="#keepalive_request_schema_parameter">Parameter Element</a> elements and 
              <span class="emphasis"><em>id</em></span> attribute are also required for this element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_parameter"></a>4.3.1.1.5. Parameter Element</h6></div></div></div><pre class="programlisting">
              

                &lt;nmwg:parameter name="STRING"
                                xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:parameter&gt;

              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - parameter</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - name, value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span><strong class="command">parameter</strong></span> element is meant to describe
              a physical aspect of state in terms of both name and value.
              The value can be an attribute (appropriately named
              <span class="emphasis"><em>value</em></span>) or in the form of a text element.  
            </p><p>
              There is only one recognized values for the <span class="emphasis"><em>name</em></span> 
              attribute at the current time, although we leave the possibility
              that other elements may be necessary in the future.  
            </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>lsKey - Specifies the <span class="emphasis"><em>key</em></span> value used
                in identifying an <span><strong class="command">LS</strong></span> instance, for now this
                is simply the <span class="emphasis"><em>accessPoint</em></span>.</p></li></ul></div><p>
              The <span class="emphasis"><em>name</em></span> attribute is required for this element, 
              the <span class="emphasis"><em>value</em></span> attribute is an option instead of using
              a text element.  The namespace should always be the base.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_data"></a>4.3.1.1.6. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING"
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" /&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - no</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.
            </p><p>
              The data element is empty internally (no enclosed
              elements), this indicates to the server that all data for the
              service will be <span class="emphasis"><em>updated</em></span>.  There is no
              provision to update single data items currently.
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="keepalive_request_schema"></a>4.3.1.2. LSKeepaliveRequest Schema</h5></div></div></div><p>
            An XML <a href="#schema">schema</a> is typically used to describe 
            the structure and internal content of a given XML instance.  This 
            description can sometimes be expressed in XML itself.  This 
            abstract is generally created to allow programmatic validation of 
            XML instances and to protect a service from receiving a poorly 
            constructed message.  
          </p><p>
            Two schema definitions are presented here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_relax"></a>4.3.1.2.1. RELAX-NG</h6></div></div></div><p>
              <span class="emphasis"><em>NM-WG</em></span> schemata is always expressed in terms of
              the RELAX-NG schema language.  This tool, unlike similar XML schema 
              languages, does not utilize XML markup.  The syntax is similar 
              to that of a regular language, and allows for a rather compact 
              description.  The following describes the 
              <span><strong class="command">LSKeepaliveRequest</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSKeepaliveRequest</em></span> messages.  Other schemas can be
              found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute type { 
                      "LSKeepaliveRequest" |
                      "http://schemas.perfsonar.net/messages/LSKeepaliveRequest/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      element nmwg:key {
                        attribute id { xsd:string } &amp;
                        element nmwg:parameters {
                          attribute id { xsd:string } &amp;
                          element nmwg:parameter {
                            attribute name { "lsKey" } &amp;
                            (
                              text |
                              attribute value { xsd:string }
                            )
                          }
                        }
                      }
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string }
                    }
                  }
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_request_schema_xsd"></a>4.3.1.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><pre class="programlisting">
              
              &lt;?xml version="1.0" encoding="UTF-8"?&gt;
              &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
                         elementFormDefault="qualified"
                         targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" 
                         xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                &lt;xs:element name="message"&gt;
                  &lt;xs:complexType&gt;
                    &lt;xs:all&gt;
                      &lt;xs:element ref="nmwg:metadata"/&gt;
                      &lt;xs:element ref="nmwg:data"/&gt;
                    &lt;/xs:all&gt;
                    &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;xs:attribute name="type" use="required"&gt;
                      &lt;xs:simpleType&gt;
                        &lt;xs:restriction base="xs:token"&gt;
                          &lt;xs:enumeration value="LSKeepaliveRequest"/&gt;
                          &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSKeepaliveRequest/1.0"/&gt;
                        &lt;/xs:restriction&gt;
                      &lt;/xs:simpleType&gt;
                    &lt;/xs:attribute&gt;
                  &lt;/xs:complexType&gt;
                &lt;/xs:element&gt;
                &lt;xs:element name="metadata"&gt;
                  &lt;xs:complexType&gt;
                    &lt;xs:sequence&gt;
                      &lt;xs:element ref="nmwg:key"/&gt;
                    &lt;/xs:sequence&gt;
                    &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                  &lt;/xs:complexType&gt;
                &lt;/xs:element&gt;
                &lt;xs:element name="key"&gt;
                  &lt;xs:complexType&gt;
                    &lt;xs:sequence&gt;
                      &lt;xs:element ref="nmwg:parameters"/&gt;
                    &lt;/xs:sequence&gt;
                    &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                  &lt;/xs:complexType&gt;
                &lt;/xs:element&gt;
                &lt;xs:element name="parameters"&gt;
                  &lt;xs:complexType&gt;
                    &lt;xs:sequence&gt;
                      &lt;xs:element ref="nmwg:parameter"/&gt;
                    &lt;/xs:sequence&gt;
                    &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                  &lt;/xs:complexType&gt;
                &lt;/xs:element&gt;
                &lt;xs:element name="parameter"&gt;
                  &lt;xs:complexType mixed="true"&gt;
                    &lt;xs:attribute name="name" use="required"&gt;
                      &lt;xs:simpleType&gt;
                        &lt;xs:restriction base="xs:token"&gt;
                          &lt;xs:enumeration value="lsKey"/&gt;
                        &lt;/xs:restriction&gt;
                      &lt;/xs:simpleType&gt;
                    &lt;/xs:attribute&gt;
                    &lt;xs:attribute name="value" type="xs:string"/&gt;
                  &lt;/xs:complexType&gt;
                &lt;/xs:element&gt;
                &lt;xs:element name="data"&gt;
                  &lt;xs:complexType&gt;
                    &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                  &lt;/xs:complexType&gt;
                &lt;/xs:element&gt;
              &lt;/xs:schema&gt;
              
            </pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="keepalive_response_message"></a>4.3.2. LSKeepaliveResponse Message</h4></div></div></div><p>
          The <span><strong class="command">LSKeepaliveResponse</strong></span> message is a reply to a given
          <span><strong class="command">LSKeepaliveRequest</strong></span> message from a client application or
          service.  As discussed in <a href="#keepalive_request_message">LSKeepaliveRequest Message</a>, 
          this response message is also based on recommendations from the 
          <span class="emphasis"><em>NM-WG</em></span>.
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="keepalive_response_examples"></a>4.3.2.1. LSKeepaliveResponse Examples</h5></div></div></div><pre class="programlisting">
            
              &lt;?xml version="1.0"?&gt;
              &lt;nmwg:message xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                            id="message.10508492" 
                            messageIdRef="msg1" 
                            type="LSKeepaliveResponse"&gt;

                &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                               id="metadata.14955190" metadataIdRef="key_to_keepalive"&gt;

                  &lt;nmwg:eventType&gt;success.ls.keepalive&lt;/nmwg:eventType&gt;

                &lt;/nmwg:metadata&gt;
              
                &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                           id="data.5371243" metadataIdRef="metadata.14955190"&gt;

                  &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/"&gt;
                    Key "http://localhost:8080/axis/services/snmpMA" was updated.
                  &lt;/nmwgr:datum&gt;

                &lt;/nmwg:data&gt;

              &lt;/nmwg:message&gt;
            
          </pre><p>
            This example illustrates the most basic of 
            <span><strong class="command">LSKeepaliveResponse</strong></span> messages.  All attributes and
            elements, as listed, are required and in the proper namespaces.  A
            description of each element, as well as related attributes follows.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_response_schema_message"></a>4.3.2.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSDeregisterResponse"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:metadata /&gt;

                  &lt;nmwg:data /&gt;

                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, messageIdRef, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              Similar to what was described in
              <a href="#keepalive_request_schema_message">Message Element</a>, 
              the <span class="emphasis"><em>message</em></span> element serves as a container that
              all subsequent information of a communication must travel in.  There
              are valuable attributes as well as enclosed elements that are
              required for this particular message.
            </p><p>
              There are only three acceptable attributes for a message in the 
              <span class="emphasis"><em>LS Protocol</em></span>, all of which are present in the
              request message: <span class="emphasis"><em>id</em></span>,
              <span class="emphasis"><em>messageIdRef</em></span>,  and 
              <span class="emphasis"><em>type</em></span>.  The <span class="emphasis"><em>id</em></span> and 
              <span class="emphasis"><em>messageIdRef</em></span> attributes 
              can be used to track message state while the 
              <span class="emphasis"><em>type</em></span> is used to route the message 
              through a service that is capable of handling several.  The 
              <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either the
              simple string <span><strong class="command">LSKeepaliveResponse</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSKeepaliveResponse/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSKeepaliveResponse/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;!-- ... --&gt;
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#keepalive_response_schema_metadata">Metadata Element</a> and 
              <a href="#keepalive_response_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_response_schema_metadata"></a>4.3.2.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               metadatIdRef="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:eventType /&gt;

                &lt;/nmwg:metadata&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element contains results of
              the execution of the <span><strong class="command">LSKeepaliveRequest</strong></span>.
              There is only one acceptable attribute: <span class="emphasis"><em>id</em></span>.  
              The id attribute can be used to track metadata state, and must
              be utilized by the
              <a href="#keepalive_response_schema_data">Data Element</a>.  Inside
              of the element there can only be an 
              <a href="#keepalive_response_schema_eventType">eventType Element</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_response_schema_eventType"></a>4.3.2.1.3. eventType Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:eventType xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:eventType&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>eventType</em></span> element is normally used to
              specify an action for a service or measurement.  We utilize it for
              this role in the <span class="emphasis"><em>LS Protocol</em></span> by specifying
              the <span class="emphasis"><em>action</em></span> of a response to an 
              <span><strong class="command">LSKeepaliveRequest</strong></span>.  There are no attributes permitted
              for this element, and only text can be used as a child, specifically
              text reporting the status of the transaction. A complete list of
              <span class="emphasis"><em>available</em></span> status strings is available in
              <a href="#result_codes">Result Codes</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_response_schema_data"></a>4.3.2.1.4. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING" 
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0" /&gt;

                &lt;/nmwg:data&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - yes</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>data</em></span> element is used for sending back
              status information.  This information is delivered
              in a <span class="emphasis"><em>response</em></span> 
              <a href="#keepalive_response_schema_datum">Datum Element</a>.
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_response_schema_datum"></a>4.3.2.1.5. Datum Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwgr:datum xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0"&gt;
                  TEXT
                &lt;/nmwgr:datum&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - datum</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/result/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>datum</em></span> element describes measurements in
              most circumstances; the intent in the
              <span class="emphasis"><em>LS Protocol</em></span> is to report back a human
              readable status message.  There is only one possible attribute
              accepted for this element, <span class="emphasis"><em>value</em></span>, and it may be
              used in place of an enclosed text element.  The text could be
              any message the service wishes to return.
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="keepalive_response_schema"></a>4.3.2.2. LSKeepaliveResponse Schema</h5></div></div></div><p>
            As described in <a href="#keepalive_response_schema">LSKeepaliveResponse Schema</a>, 
            this XML <a href="#schema">schema</a> is used to describe 
            the structure and internal content of a given XML instance.  This 
            abstract is generally created to allow programmatic validation of 
            XML instances and to protect a service from receiving a poorly 
            constructed message.  
          </p><p>
            Two schema definitions are presented here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_response_schema_relax"></a>4.3.2.2.1. RELAX-NG</h6></div></div></div><p>
              The following describes the 
              <span><strong class="command">LSKeepaliveResponse</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSKeepaliveResponse</em></span> messages.  Other schemas can be
              found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                namespace nmwgr = "http://ggf.org/ns/nmwg/result/2.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute messageIdRef { xsd:string }? &amp;
                    attribute type { 
                      "LSKeepaliveResponse" |
                      "http://schemas.perfsonar.net/messages/LSKeepaliveResponse/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      element nmwg:eventType { text }
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      element nmwgr:datum {
                        (
                          text |
                          attribute value { xsd:string }
                        )
                      }
                    }
                  }
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="keepalive_response_schema_xsd"></a>4.3.2.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><p>
              <span><strong class="command">keepalive_response.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" 
                           xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/result/2.0/" 
                             schemaLocation="nmwgr.xsd"/&gt;
                  &lt;xs:element name="message"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:metadata"/&gt;
                        &lt;xs:element ref="nmwg:data"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="messageIdRef" type="xs:string"/&gt;
                      &lt;xs:attribute name="type" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="LSKeepaliveResponse"/&gt;
                            &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSKeepaliveResponse/1.0"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="metadata"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwg:eventType"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="eventType" type="xs:string"/&gt;
                  &lt;xs:element name="data"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="nmwgr:datum"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt; 
              
            </pre><p>
              <span><strong class="command">nmwgr.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwgr="http://ggf.org/ns/nmwg/result/2.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" 
                             schemaLocation="keepalive_response.xsd"/&gt;
                  &lt;xs:element name="datum"&gt;
                    &lt;xs:complexType mixed="true"&gt;
                      &lt;xs:attribute name="value" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre></div></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="query_messages"></a>4.4. Query Messages</h3></div></div></div><p>
        While the previous three message descriptions have focused on the 
        management of data, the <span class="emphasis"><em>query</em></span> message set is
        focused simply on accepting and answering queries by interested client
        and service applications in the <span class="emphasis"><em>perfSONAR</em></span>
        framework.  The queries, like the data, are best formulated in
        <span class="emphasis"><em>XML</em></span> and the other support systems it uses (i.e.
        <a href="#id2540230">XQuery</a>, <a href="#id2540212">XPath</a>).  The responses
        will contain the results of the query: data for success or some message
        indicating failure.
      </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="query_request_message"></a>4.4.1. LSQueryRequest Message</h4></div></div></div><p>
          The message consists of at least two parts that are linked, the 
          first being at least one <span class="emphasis"><em>metadata</em></span> element, the 
          second being at least one <span class="emphasis"><em>data</em></span> element.  The 
          <span class="emphasis"><em>metadata</em></span> must contain a subject element that will
          bear the query text.  This <span class="emphasis"><em>metadata</em></span> must
          be linked to an empty <span class="emphasis"><em>data</em></span> element.
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="query_request_examples"></a>4.4.1.1. LSQueryRequest Examples</h5></div></div></div><pre class="programlisting">
            
              &lt;?xml version='1.0' encoding='UTF-8'?&gt;
              &lt;nmwg:message type="LSQueryRequest"
                            id="msg1"
                            xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                            xmlns:xquery="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/"&gt;
                          
                &lt;nmwg:metadata id="meta1"&gt;
  
                  &lt;xquery:subject id="sub1"&gt;

                declare namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/";
                /nmwg:store[@type="LSStore"]/nmwg:metadata[@id="http://localhost:8181/axis/services/snmpMA"]

                  &lt;/xquery:subject&gt;
                  &lt;nmwg:eventType&gt;http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0&lt;/nmwg:eventType&gt;
    
                &lt;/nmwg:metadata&gt;
  
                &lt;nmwg:data metadataIdRef="meta1" id="d1"/&gt;

              &lt;/nmwg:message&gt;
            
          </pre><p>
            This example illustrates the most basic of 
            <span><strong class="command">LSQueryRequest</strong></span> messages.  All attributes and
            elements, as listed, are required and in the proper namespaces.  A
            description of each element, as well as related attributes follows.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_request_schema_message"></a>4.4.1.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSKeepaliveRequest"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:metadata /&gt;

                  &lt;nmwg:data /&gt;

                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>message</em></span> element serves as a container that
              all subsequent information of a communication must travel in.  There
              are valuable attributes as well as enclosed elements that are
              required for this particular message.
            </p><p>
              There are only three acceptable attributes for a message in the 
              <span class="emphasis"><em>LS Protocol</em></span>, two of which are present in the
              request message: <span class="emphasis"><em>id</em></span> and 
              <span class="emphasis"><em>type</em></span>.  The <span class="emphasis"><em>id</em></span> attribute 
              can be used to track message state while the 
              <span class="emphasis"><em>type</em></span> is used to route the message 
              through a service that is capable of handling several.  The 
              <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either the
              simple string <span><strong class="command">LSQueryRequest</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSQueryRequest/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSQueryRequest/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;!-- ... --&gt;
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#query_request_schema_metadata">Metadata Element</a> and 
              <a href="#query_request_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_request_schema_metadata"></a>4.4.1.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;xquery:subject /&gt;

                  &lt;nmwg:eventType /&gt;

                &lt;/nmwg:metadata&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, subject</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element normally contains the 
              <span class="emphasis"><em>static</em></span> information regarding measurements, and
              in the case of the <span class="emphasis"><em>LS Protocol</em></span> contains the
              one static use: identification of a service by service description
              or stored a stored key.  As with the message there are
              specific pieces of information required for this element to be
              effective.
            </p><p>
              There is only one acceptable attribute: <span class="emphasis"><em>id</em></span>.  
              The id attribute can be used to track metadata state, and must
              be utilized by the corresponding
              <a href="#query_request_schema_data">Data Element</a>.  Inside of the
              element there can be a
              <a href="#query_request_schema_subject">Subject Element</a> or a 
              <a href="#query_request_schema_eventType">eventType Element</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_request_schema_subject"></a>4.4.1.1.3. Subject Element</h6></div></div></div><pre class="programlisting">
              
                &lt;xquery:subject id="STRING" 
                                xmlns:xquery="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/"&gt;
                  TEXT
                &lt;/xquery:subject&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - subject</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The subject element must contain the text of the actual query.
              Because the <span><strong class="command">LS</strong></span> stores and manges all data in 
              a native <span class="emphasis"><em>XML</em></span> format the appropriate language
              to perform all queries in is <span class="emphasis"><em>XQuery</em></span>.  The
              namespace of the <span class="emphasis"><em>subject</em></span> element reflects
              this.  The <span class="emphasis"><em>id</em></span> element is required, and there
              must be query text contained in this element.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_request_schema_eventType"></a>4.4.1.1.4. eventType Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:eventType xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  STRING
                &lt;/nmwg:eventType&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - N/A</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>eventType</em></span> element is normally used to
              specify an action for a service or measurement.  We utilize it for
              this role in the <span class="emphasis"><em>LS Protocol</em></span> by specifying
              the <span class="emphasis"><em>action</em></span> to be performed.  In the 
              <span class="emphasis"><em>query</em></span> message we can only specify one of two
              possible text <span class="emphasis"><em>eventType</em></span> values:
            </p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p>service.lookup.xquery</p></li><li style="list-style-type: circle"><p>http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0</p></li></ul></div><p>
              There are no attributes available for this element, and it is
              required.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_request_schema_data"></a>4.4.1.1.5. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING"
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" /&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - no</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.
            </p><p>
              The data element is empty internally (no enclosed
              elements), acting as a <span class="emphasis"><em>data trigger</em></span>.
              Loosely defined, this a way to indicate that a service needs to 
              act on a specific <span class="emphasis"><em>metadata</em></span>.
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="query_request_schema"></a>4.4.1.2. LSQueryRequest Schema</h5></div></div></div><p>
            An XML <a href="#schema">schema</a> is typically used to describe 
            the structure and internal content of a given XML instance.  This 
            description can sometimes be expressed in XML itself.  This 
            abstract is generally created to allow programmatic validation of 
            XML instances and to protect a service from receiving a poorly 
            constructed message.  
          </p><p>
            Two schema definitions are presented here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_request_schema_relax"></a>4.4.1.2.1. RELAX-NG</h6></div></div></div><p>
              <span class="emphasis"><em>NM-WG</em></span> schemata is always expressed in terms of
              the RELAX-NG schema language.  This tool, unlike similar XML schema 
              languages, does not utilize XML markup.  The syntax is similar 
              to that of a regular language, and allows for a rather compact 
              description.  The following describes the 
              <span><strong class="command">LSQueryRequest</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSQueryRequest</em></span> messages.  Other schemas can be
              found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                namespace xquery="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute type { 
                      "LSQueryRequest" |
                      "http://schemas.perfsonar.net/messages/LSQueryRequest/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      element xquery:subject { 
                        attribute id { xsd:string } &amp;
                        text 
                      } &amp;
                      element nmwg:eventType {
                        "service.lookup.xquery" |
                        "http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0"
                      }
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string }
                    }
                  }
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_request_schema_xsd"></a>4.4.1.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><p>
              <span><strong class="command">query_request.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" 
                           xmlns:xquery="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/" 
                             schemaLocation="xquery.xsd"/&gt;
                  &lt;xs:element name="message"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:metadata"/&gt;
                        &lt;xs:element ref="nmwg:data"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="type" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="LSQueryRequest"/&gt;
                            &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSQueryRequest/1.0"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="metadata"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
                        &lt;xs:element ref="xquery:subject"/&gt;
                        &lt;xs:element ref="nmwg:eventType"/&gt;
                      &lt;/xs:choice&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="eventType"&gt;
                    &lt;xs:simpleType&gt;
                      &lt;xs:restriction base="xs:token"&gt;
                        &lt;xs:enumeration value="service.lookup.xquery"/&gt;
                        &lt;xs:enumeration value="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0"/&gt;
                      &lt;/xs:restriction&gt;
                    &lt;/xs:simpleType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="data"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre><p>
              <span><strong class="command">xquery.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified"
                           targetNamespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/"
                           xmlns:xquery="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/lookup/xquery/1.0/"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/"
                             schemaLocation="query_request.xsd"/&gt;
                  &lt;xs:element name="subject"&gt;
                    &lt;xs:complexType mixed="true"&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="query_response_message"></a>4.4.2. LSQueryResponse Message</h4></div></div></div><p>
          The <span><strong class="command">LSQueryResponse</strong></span> message is a reply to a given
          <span><strong class="command">LSQueryRequest</strong></span> message from a client application or
          service.  As discussed in <a href="#query_request_message">LSQueryRequest Message</a>, 
          this response message is also based on recommendations from the 
          <span class="emphasis"><em>NM-WG</em></span>.
        </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="query_response_examples"></a>4.4.2.1. LSQueryResponse Examples</h5></div></div></div><pre class="programlisting">
            
              &lt;?xml version='1.0' encoding='UTF-8'?&gt;
              &lt;nmwg:message xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                            id="message.17336126" messageIdRef="msg1" 
                            type="LSQueryResponse"&gt;

                &lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                               id="metadata.6007633" metadataIdRef="meta1" /&gt;

                &lt;nmwg:data xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" 
                           id="data.16492090" metadataIdRef="metadata.6007633"&gt;
                  &lt;psservice:datum xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                    &amp;lt;nmwg:metadata xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" id="http://localhost:8080/axis/services/snmpMA"&amp;gt;
                      &amp;lt;perfsonar:subject xmlns:perfsonar="http://ggf.org/ns/nmwg/tools/org/perfsonar/1.0/" id="commonParameters"&amp;gt;
                        &amp;lt;psservice:service xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" id="serviceParameters"&amp;gt;
                          &amp;lt;psservice:serviceName&amp;gt;My_test_MA&amp;lt;/psservice:serviceName&amp;gt;
                          &amp;lt;psservice:accessPoint&amp;gt;http://localhost:8080/axis/services/snmpMA&amp;lt;/psservice:accessPoint&amp;gt;
                          &amp;lt;psservice:serviceType&amp;gt;MA&amp;lt;/psservice:serviceType&amp;gt;
                          &amp;lt;psservice:serviceDescription&amp;gt;This is my testing MA&amp;lt;/psservice:serviceDescription&amp;gt;
                        &amp;lt;/psservice:service&amp;gt;
                      &amp;lt;/perfsonar:subject&amp;gt;
                    &amp;lt;/nmwg:metadata&amp;gt;
                  &lt;/psservice:datum&gt;
                &lt;/nmwg:data&gt;

              &lt;/nmwg:message&gt;
            
          </pre><p>
            This example illustrates the most basic of 
            <span><strong class="command">LSQueryResponse</strong></span> messages.  All attributes and
            elements, as listed, are required and in the proper namespaces.  A
            description of each element, as well as related attributes follows.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_response_schema_message"></a>4.4.2.1.1. Message Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:message type="LSDeregisterResponse"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;

                  &lt;nmwg:metadata /&gt;

                  &lt;nmwg:data /&gt;

                &lt;/nmwg:message&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - message</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, messageIdRef, type</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - metadata, data</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              As described in <a href="#register_request_schema_message">Message Element</a>,
              the <span class="emphasis"><em>message</em></span> element serves as a container that
              all subsequent information of a communication must travel in.
              There are only three acceptable attributes for a message in the 
              <span class="emphasis"><em>LS Protocol</em></span>, all of which are present in the
              request message: <span class="emphasis"><em>id</em></span>,
              <span class="emphasis"><em>messageIdRef</em></span>,  and 
              <span class="emphasis"><em>type</em></span>.
            </p><p>
              The <span class="emphasis"><em>id</em></span> and 
              <span class="emphasis"><em>messageIdRef</em></span> attributes 
              can be used to track message state while the 
              <span class="emphasis"><em>type</em></span> is used to route the message 
              through a service that is capable of handling several.  The 
              <span class="emphasis"><em>type</em></span> <span><strong class="command">should</strong></span> be either the
              simple string <span><strong class="command">LSQueryResponse</strong></span> or the URI 
              <span><strong class="command">http://schemas.perfsonar.net/messages/LSQueryResponse/1.0</strong></span>.
              The later is a new addition to this message type that will allow for
              easier extension when the protocol requires backwards compatibility.
              This type, when used in the message, will look like the following 
              example.
            </p><pre class="programlisting">
              
                &lt;nmwg:message type="http://schemas.perfsonar.net/messages/LSQueryResponse/1.0"
                              id="STRING"
                              xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;!-- ... --&gt;
                &lt;/nmwg:message&gt;
              
            </pre><p>
              Within the message element there <span><strong class="command">must</strong></span> always be
              two enclosed elements, a <span class="emphasis"><em>metadata</em></span> and a 
              <span class="emphasis"><em>data</em></span>.  These elements, due to their complexity,
              will be explained in <a href="#query_response_schema_metadata">Metadata Element</a> and 
              <a href="#query_response_schema_data">Data Element</a>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_response_schema_metadata"></a>4.4.2.1.2. Metadata Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:metadata id="STRING"
                               metadatIdRef="STRING"
                               xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/" /&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - metadata</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - key, eventType</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>metadata</em></span> element, which normally
              contains some sort of response code is blank for this message
              type.  There is only two acceptable attributes:
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              Both attributes can be used to track metadata state, and must
              be utilized by the <a href="#query_response_schema_data">Data Element</a>.
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_response_schema_data"></a>4.4.2.1.3. Data Element</h6></div></div></div><pre class="programlisting">
              
                &lt;nmwg:data id="STRING" 
                           metadataIdRef="STRING"
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;psservice:datum xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" /&gt;
                &lt;/nmwg:data&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - data</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/base/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - id, metadataIdRef</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - yes</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>data</em></span> element is used for sending back
              status information.  This information is delivered
              in a <a href="#query_response_schema_datum">Datum Element</a>.  The nature
              of this status is really the results of a query.
            </p><p>
              There are only two acceptable attributes for this element: 
              <span class="emphasis"><em>id</em></span> and <span class="emphasis"><em>metadataIdRef</em></span>.  
              These attributes can be used to track state information, particularly
              <span class="emphasis"><em>metadataIdRef</em></span> which is used in linking the 
              <span class="emphasis"><em>metadata</em></span> to the <span class="emphasis"><em>data</em></span>.  
            </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_response_schema_datum"></a>4.4.2.1.4. Datum Element</h6></div></div></div><pre class="programlisting">
              
                &lt;psservice:datum xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"&gt;
                  TEXT
                &lt;/psservice:datum&gt;
              
            </pre><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><p><span><strong class="command">localname</strong></span> - datum</p></li><li style="list-style-type: circle"><p><span><strong class="command">namespace</strong></span> - http://ggf.org/ns/nmwg/result/2.0/</p></li><li style="list-style-type: circle"><p><span><strong class="command">attributes</strong></span> - value</p></li><li style="list-style-type: circle"><p><span><strong class="command">nested elements</strong></span> - text</p></li><li style="list-style-type: circle"><p><span><strong class="command">required</strong></span> - yes</p></li></ul></div><p>
              The <span class="emphasis"><em>datum</em></span> element in this case will report
              the results of the original query.  Currently the backend
              database has complete control over this element and thus will
              return positive results (i.e. the actual data) or negative
              results (i.e. a message directly from the database).  
            </p><p>
              There are no acceptable attributes for this datum, and the namespace
              must always be the same. 
            </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="query_response_schema"></a>4.4.2.2. LSQueryResponse Schema</h5></div></div></div><p>
            As described in <a href="#query_request_schema">LSQueryRequest Schema</a>, 
            the XML <a href="#schema">schema</a> is typically used to describe 
            the structure and internal content of a given XML instance.  This 
            abstract is generally created to allow programmatic validation of 
            XML instances and to protect a service from receiving a poorly 
            constructed message.  
          </p><p>
            Two schema definitions are presented here, the first being the native
            form of all <span class="emphasis"><em>NM-WG</em></span> schemata written in the
            <a href="#id2540015">RELAX-NG</a> language and the second being a derived
            version written in <a href="#id2540195">XSD</a>.
          </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_response_schema_relax"></a>4.4.2.2.1. RELAX-NG</h6></div></div></div><p>
              The following describes the 
              <span><strong class="command">LSQueryResponse</strong></span> schema.  Note that this 
              <span><strong class="command">will</strong></span> only validate
              <span class="emphasis"><em>LSQueryResponse</em></span> messages.  Other schemas can be
              found in <a href="#id2539996">NM-WG Schema</a>.
            </p><pre class="programlisting">
              
                namespace nmwg="http://ggf.org/ns/nmwg/base/2.0/"
                namespace psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/"
              
                start = 
                  element nmwg:message { 
                    attribute id { xsd:string } &amp;
                    attribute messageIdRef { xsd:string }? &amp;
                    attribute type { 
                      "LSQueryResponse" |
                      "http://schemas.perfsonar.net/messages/LSQueryResponse/1.0"
                    } &amp;
                    element nmwg:metadata {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string }?
                    } &amp;
                    element nmwg:data {
                      attribute id { xsd:string } &amp;
                      attribute metadataIdRef { xsd:string } &amp;
                      element psservice:datum {
                        text
                      }
                    }
                  }
              
            </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="query_response_schema_xsd"></a>4.4.2.2.2. XSD</h6></div></div></div><p>
              This particular description was produced using tools such as 
              <a href="#id2539958">Multi-Schema XML Validator</a> and <a href="#id2539977">Trang</a> to 
              programatically convert between schema languages.  XSD is a more
              widely accepted schema format for validation, thus we present
              this definition for use in <span class="emphasis"><em>perfSONAR</em></span> services.  
            </p><p>
              <span><strong class="command">query_response.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://ggf.org/ns/nmwg/base/2.0/" xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" schemaLocation="psservice.xsd"/&gt;
                  &lt;xs:element name="message"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:all&gt;
                        &lt;xs:element ref="nmwg:metadata"/&gt;
                        &lt;xs:element ref="nmwg:data"/&gt;
                      &lt;/xs:all&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="messageIdRef" type="xs:string"/&gt;
                      &lt;xs:attribute name="type" use="required"&gt;
                        &lt;xs:simpleType&gt;
                          &lt;xs:restriction base="xs:token"&gt;
                            &lt;xs:enumeration value="LSQueryResponse"/&gt;
                            &lt;xs:enumeration value="http://schemas.perfsonar.net/messages/LSQueryResponse/1.0"/&gt;
                          &lt;/xs:restriction&gt;
                        &lt;/xs:simpleType&gt;
                      &lt;/xs:attribute&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="metadata"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                  &lt;xs:element name="data"&gt;
                    &lt;xs:complexType&gt;
                      &lt;xs:sequence&gt;
                        &lt;xs:element ref="psservice:datum"/&gt;
                      &lt;/xs:sequence&gt;
                      &lt;xs:attribute name="id" use="required" type="xs:string"/&gt;
                      &lt;xs:attribute name="metadataIdRef" use="required" type="xs:string"/&gt;
                    &lt;/xs:complexType&gt;
                  &lt;/xs:element&gt;
                &lt;/xs:schema&gt;
              
            </pre><p>
              <span><strong class="command">psservice.xsd</strong></span>:
            </p><pre class="programlisting">
              
                &lt;?xml version="1.0" encoding="UTF-8"?&gt;
                &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
                           elementFormDefault="qualified" 
                           targetNamespace="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" 
                           xmlns:psservice="http://ggf.org/ns/nmwg/tools/org/perfsonar/service/1.0/" 
                           xmlns:nmwg="http://ggf.org/ns/nmwg/base/2.0/"&gt;
                  &lt;xs:import namespace="http://ggf.org/ns/nmwg/base/2.0/" schemaLocation="test.xsd"/&gt;
                  &lt;xs:element name="datum" type="xs:string"/&gt;
                &lt;/xs:schema&gt;
              
            </pre></div></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="result_codes"></a>4.5. Result Codes</h3></div></div></div><p>
        There are currently two hierarchical systems in use to return status
        information about services.  Each of these approaches takes into account
        the facts that there are many diverse services as well as different
        status messages that may be returned, but the newer of the approaches
        also allows for versioning and backwards compatibility that the original
        attempt did not consider.  The original system <span><strong class="command">must</strong></span>
        continue to be supported by all services for the foreseeable future, while
        a slow phase in of the latest eventTypes is attempted.  
      </p><p>
        The original system, currently used by all
        <span class="emphasis"><em>perfSONAR</em></span> services and explained in
        <a href="#id2539940">Result Codes</a>, relies on a static tree of status
        information that is branched first by general features (i.e. 
        <span class="emphasis"><em>success</em></span>, <span class="emphasis"><em>error</em></span>) and later
        by more specific characteristics such as service and error type.  This
        hierarchy is however missing the ability to offer versions of different
        codes that would have the ability to become forward or backwards
        compatible and is not in the well known URI format used by other
        eventTypes.
      </p><pre class="programlisting">
        
          success.
                  ls.
                     register.
                     deregister.
                     keepalive.
                     query.
                  ma.
                     something
                     something_else
          error.
                ls.
                   register.
                   deregister.
                   keepalive.
                   query.
                ma.
                   something
                   something_else                     
        
      </pre><p>  
        The most recent description of this status paradigm follows the URI
        syntax already in use by other eventTypes and does allow version numbers
        to be assigned to the various messages.  This will allow services to
        pick and choose which versions they may support more readily.  
      </p><pre class="programlisting">
        
          http://schemas.perfsonar.net/status/
                                              success/
                                                      ls/
                                                         register/
                                                                  1.0
                                                         deregister/
                                                                    1.0
                                                         keepalive/
                                                                   1.0
                                                         query/
                                                               1.0
                                                      ma/
                                                         something/
                                                                   1.0
                                                         something_else/
                                                                        1.0
                                                                        1.1
                                              error/
                                                    ls/
                                                       register/
                                                                1.0
                                                       deregister/
                                                                  1.0
                                                       keepalive/
                                                                 1.0
                                                       query/
                                                             1.0
                                                    ma/
                                                       something/
                                                                 1.0
                                                       something_else/
                                                                      1.0
                                                                      1.1                                             
        
      </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="protocol_extension"></a>4.6. Extensions</h3></div></div></div><p>
        Extending the LS protocol to offer additional features, while keeping
        all original functionality in tact can be accomplished in a number of
        ways.
      </p></div></div><div class="glossary"><div class="titlepage"><div><div><h2 class="title"><a id="glossary"></a>Terms</h2></div></div></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">C</h3><dl><dt><a id="characteristic"></a>characteristic</dt><dd><p>Taken on the context of netmworking, these describe the 
          intrinsic properties of a portion of the network that are related 
          to the performance and reliability of the network.  See 
          <a href="http://www.ggf.org/documents/GFD.23.pdf" target="_top">http://www.ggf.org/documents/GFD.23.pdf</a> 
          for more information.</p></dd><dt><a id="chaining"></a>chaining</dt><dd><p>
            The process of linking together elements in the 
            <a href="#NMWG">NM-WG</a> XML specification.
          </p></dd></dl></div><div class="glossdiv"><h3 class="title">D</h3><dl><dt><a id="data"></a>data</dt><dd><p>An <a href="#NMWG">NM-WG</a> XML block used 
          to store dynamic information, such as the results of a measurement.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">F</h3><dl><dt><a id="filter_chaining"></a>filter chaining</dt><dd><p>
            Chaining operation that is akin to performing advanced selection or 
            aggregation on a dataset.
          </p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">M</h3><dl><dt><a id="merge_chaining"></a>merge chaining</dt><dd><p>
            Chaining that combines linked metadata items into a new 
            representation.
          </p></dd><dt><a id="metadata"></a>metadata</dt><dd><p>An <a href="#NMWG">NM-WG</a> XML block used 
          to store static information, such as the specific parameters of a 
          measurement.</p></dd></dl></div><div class="glossdiv"><h3 class="title">N</h3><dl><dt><a id="NMWG"></a>NM-WG</dt><dd><p>The performance of most grid applications is dependent on the 
          performance of the networks forming the grid. The Network 
          Measurements Working Group (NMWG) identifies network metrics 
          (aka <a href="#characteristic">characteristics</a>) useful to grid applications 
          and middleware, and develops standard mechanisms to describe and 
          publish these characteristics to the Grid.</p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><h3 class="title">S</h3><dl><dt><a id="schema"></a>schema</dt><dd><p>XML specification, normally written in XML.</p></dd><dt><a id="schemata"></a>schemata</dt><dd><p>Plural of schema.</p></dd><dt><a id="SOA"></a>SOA</dt><dd><p>
            Service Oriented Architecture (SOA) is a software architectural 
            style that allows applications (services) to communicate and interact
            regardless of the environment or implementation.  
          </p></dd></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div><div class="glossdiv"><dl></dl></div></div><div class="bibliography"><div class="titlepage"><div><div><h2 class="title"><a id="bibliography"></a>References</h2></div></div></div><div class="biblioentry"><a id="id2539940"></a><p>[<abbr class="abbrev">Result Codes</abbr>] <span class="title"><i>
        <a href="http://wiki.perfsonar.net/jra1-wiki/index.php/Result_codes" target="_top">Result Codes</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2539958"></a><p>[<abbr class="abbrev">MSV</abbr>] <span class="title"><i>
        <a href="https://msv.dev.java.net/" target="_top">Sun Multi-Schema XML Validator (MSV)</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2539977"></a><p>[<abbr class="abbrev">Trang</abbr>] <span class="title"><i>
        <a href="http://www.thaiopensource.com/relaxng/trang.html" target="_top">Multi-format schema converter based on RELAX NG</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2539996"></a><p>[<abbr class="abbrev">NMWG-Schema</abbr>] <span class="title"><i>
        <a href="http://nmwg.internet2.edu/nm-schema-base.html" target="_top">NMWG Base Schema</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540015"></a><p>[<abbr class="abbrev">RELAX-NG</abbr>] <span class="title"><i>
        <a href="http://relaxng.org/" target="_top">RELAX-NG Schema Language</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540033"></a><p>[<abbr class="abbrev">NM-WG</abbr>] <span class="title"><i>
        <a href="http://nmwg.internet2.edu" target="_top">Network Measurements Working Group</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540052"></a><p>[<abbr class="abbrev">perfSONAR</abbr>] <span class="title"><i>
        <a href="http://www.perfsonar.net" target="_top">perfSONAR</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540070"></a><p>[<abbr class="abbrev">XML</abbr>] <span class="title"><i>
        <a href="http://www.w3.org/XML" target="_top">Extensible Markup Language (XML)</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540088"></a><p>[<abbr class="abbrev">OGF</abbr>] <span class="title"><i>
        <a href="http://www.ogf.org/" target="_top">(Global|Open) Grid Forum</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540106"></a><p>[<abbr class="abbrev">perfSONAR-UI</abbr>] <span class="title"><i>
        <a href="http://perfsonar.acad.bg/" target="_top">perfSONAR-UI</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540125"></a><p>[<abbr class="abbrev">Zurawski06Scalable</abbr>] <span class="title"><i>A Scalable Framework for Representation and Exchange of Network Measurements</i>. </span><span class="authorgroup"><span class="firstname">J.</span> <span class="surname">Zurawski</span>, <span class="firstname">M.</span> <span class="surname">Swany</span>, and <span class="firstname">D.</span> <span class="surname">Gunter</span>. </span><span class="confgroup"><span class="confdates">March, 2006. </span><span class="conftitle">2nd International IEEE/Create-Net Conference on Testbeds and Research Infrastructures for the Development of Networks and Communities. </span><span class="address">Barcelona, Spain. </span><span class="confsponsor">IEEE/Create-Net. </span>. </span></p></div><div class="biblioentry"><a id="id2540195"></a><p>[<abbr class="abbrev">XSD</abbr>] <span class="title"><i>
        <a href="http://www.w3.org/XML/Schema" target="_top">XML Schema</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540212"></a><p>[<abbr class="abbrev">XPath</abbr>] <span class="title"><i>
        <a href="http://www.w3.org/TR/xpath" target="_top">XPath</a>
      </i>. </span></p></div><div class="biblioentry"><a id="id2540230"></a><p>[<abbr class="abbrev">XQuery</abbr>] <span class="title"><i>
        <a href="http://www.w3.org/TR/xquery/" target="_top">XQuery</a>
      </i>. </span></p></div></div></div></body></html>
